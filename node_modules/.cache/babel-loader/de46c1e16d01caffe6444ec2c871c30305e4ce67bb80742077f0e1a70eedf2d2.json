{"ast":null,"code":"import{useEffect,useRef}from'react';import{gsap}from'gsap';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GridMotion=_ref=>{let{items=[],gradientColor='black'}=_ref;const gridRef=useRef(null);const rowRefs=useRef([]);const mouseXRef=useRef(window.innerWidth/2);const totalItems=28;const defaultItems=Array.from({length:totalItems},(_,index)=>\"Item \".concat(index+1));const combinedItems=items.length>0?items.slice(0,totalItems):defaultItems;useEffect(()=>{gsap.ticker.lagSmoothing(0);const handleMouseMove=e=>{mouseXRef.current=e.clientX;};const updateMotion=()=>{const maxMoveAmount=300;const baseDuration=0.8;const inertiaFactors=[0.6,0.4,0.3,0.2];rowRefs.current.forEach((row,index)=>{if(row){const direction=index%2===0?1:-1;const moveAmount=(mouseXRef.current/window.innerWidth*maxMoveAmount-maxMoveAmount/2)*direction;gsap.to(row,{x:moveAmount,duration:baseDuration+inertiaFactors[index%inertiaFactors.length],ease:'power3.out',overwrite:'auto'});}});};const removeAnimationLoop=gsap.ticker.add(updateMotion);window.addEventListener('mousemove',handleMouseMove);return()=>{window.removeEventListener('mousemove',handleMouseMove);removeAnimationLoop();};},[]);return/*#__PURE__*/_jsx(\"div\",{ref:gridRef,className:\"h-full w-full overflow-hidden\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"w-full h-screen overflow-hidden relative flex items-center justify-center\",style:{background:\"radial-gradient(circle, \".concat(gradientColor,\" 0%, transparent 100%)\")},children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 pointer-events-none z-[4] bg-[length:250px]\"}),/*#__PURE__*/_jsx(\"div\",{className:\"gap-4 flex-none relative w-[150vw] h-[150vh] grid grid-rows-4 grid-cols-1 rotate-[-15deg] origin-center z-[2]\",children:Array.from({length:4},(_,rowIndex)=>/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4 grid-cols-7\",style:{willChange:'transform, filter'},ref:el=>{if(el)rowRefs.current[rowIndex]=el;},children:Array.from({length:7},(_,itemIndex)=>{const content=combinedItems[rowIndex*7+itemIndex];return/*#__PURE__*/_jsx(\"div\",{className:\"relative\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative w-full h-full overflow-hidden rounded-[10px] bg-[#111] flex items-center justify-center text-white text-[1.5rem]\",children:typeof content==='string'&&(content.startsWith('http')||content.startsWith('/'))?/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full bg-cover bg-center absolute top-0 left-0\",style:{backgroundImage:\"url(\".concat(content,\")\")}}):/*#__PURE__*/_jsx(\"div\",{className:\"p-4 text-center z-[1]\",children:content})})},itemIndex);})},rowIndex))}),/*#__PURE__*/_jsx(\"div\",{className:\"relative w-full h-full top-0 left-0 pointer-events-none\"})]})});};export default GridMotion;","map":{"version":3,"names":["useEffect","useRef","gsap","jsx","_jsx","jsxs","_jsxs","GridMotion","_ref","items","gradientColor","gridRef","rowRefs","mouseXRef","window","innerWidth","totalItems","defaultItems","Array","from","length","_","index","concat","combinedItems","slice","ticker","lagSmoothing","handleMouseMove","e","current","clientX","updateMotion","maxMoveAmount","baseDuration","inertiaFactors","forEach","row","direction","moveAmount","to","x","duration","ease","overwrite","removeAnimationLoop","add","addEventListener","removeEventListener","ref","className","children","style","background","rowIndex","willChange","el","itemIndex","content","startsWith","backgroundImage"],"sources":["/home/alastair/Desktop/outpost-custom/outpost-custom/src/components/GridMotion.tsx"],"sourcesContent":["import { useEffect, useRef, FC, ReactNode } from 'react';\nimport { gsap } from 'gsap';\n\ninterface GridMotionProps {\n  items?: (string | ReactNode)[];\n  gradientColor?: string;\n}\n\nconst GridMotion: FC<GridMotionProps> = ({ items = [], gradientColor = 'black' }) => {\n  const gridRef = useRef<HTMLDivElement>(null);\n  const rowRefs = useRef<(HTMLDivElement | null)[]>([]);\n  const mouseXRef = useRef<number>(window.innerWidth / 2);\n\n  const totalItems = 28;\n  const defaultItems = Array.from({ length: totalItems }, (_, index) => `Item ${index + 1}`);\n  const combinedItems = items.length > 0 ? items.slice(0, totalItems) : defaultItems;\n\n  useEffect(() => {\n    gsap.ticker.lagSmoothing(0);\n\n    const handleMouseMove = (e: MouseEvent): void => {\n      mouseXRef.current = e.clientX;\n    };\n\n    const updateMotion = (): void => {\n      const maxMoveAmount = 300;\n      const baseDuration = 0.8;\n      const inertiaFactors = [0.6, 0.4, 0.3, 0.2];\n\n      rowRefs.current.forEach((row, index) => {\n        if (row) {\n          const direction = index % 2 === 0 ? 1 : -1;\n          const moveAmount = ((mouseXRef.current / window.innerWidth) * maxMoveAmount - maxMoveAmount / 2) * direction;\n\n          gsap.to(row, {\n            x: moveAmount,\n            duration: baseDuration + inertiaFactors[index % inertiaFactors.length],\n            ease: 'power3.out',\n            overwrite: 'auto'\n          });\n        }\n      });\n    };\n\n    const removeAnimationLoop = gsap.ticker.add(updateMotion);\n    window.addEventListener('mousemove', handleMouseMove);\n\n    return () => {\n      window.removeEventListener('mousemove', handleMouseMove);\n      removeAnimationLoop();\n    };\n  }, []);\n\n  return (\n    <div ref={gridRef} className=\"h-full w-full overflow-hidden\">\n      <section\n        className=\"w-full h-screen overflow-hidden relative flex items-center justify-center\"\n        style={{\n          background: `radial-gradient(circle, ${gradientColor} 0%, transparent 100%)`\n        }}\n      >\n        <div className=\"absolute inset-0 pointer-events-none z-[4] bg-[length:250px]\"></div>\n        <div className=\"gap-4 flex-none relative w-[150vw] h-[150vh] grid grid-rows-4 grid-cols-1 rotate-[-15deg] origin-center z-[2]\">\n          {Array.from({ length: 4 }, (_, rowIndex) => (\n            <div\n              key={rowIndex}\n              className=\"grid gap-4 grid-cols-7\"\n              style={{ willChange: 'transform, filter' }}\n              ref={el => {\n                if (el) rowRefs.current[rowIndex] = el;\n              }}\n            >\n              {Array.from({ length: 7 }, (_, itemIndex) => {\n                const content = combinedItems[rowIndex * 7 + itemIndex];\n                return (\n                  <div key={itemIndex} className=\"relative\">\n                    <div className=\"relative w-full h-full overflow-hidden rounded-[10px] bg-[#111] flex items-center justify-center text-white text-[1.5rem]\">\n                      {typeof content === 'string' && (content.startsWith('http') || content.startsWith('/')) ? (\n                        <div\n                          className=\"w-full h-full bg-cover bg-center absolute top-0 left-0\"\n                          style={{ backgroundImage: `url(${content})` }}\n                        ></div>\n                      ) : (\n                        <div className=\"p-4 text-center z-[1]\">{content}</div>\n                      )}\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          ))}\n        </div>\n        <div className=\"relative w-full h-full top-0 left-0 pointer-events-none\"></div>\n      </section>\n    </div>\n  );\n};\n\nexport default GridMotion;\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,MAAM,KAAuB,OAAO,CACxD,OAASC,IAAI,KAAQ,MAAM,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAO5B,KAAM,CAAAC,UAA+B,CAAGC,IAAA,EAA6C,IAA5C,CAAEC,KAAK,CAAG,EAAE,CAAEC,aAAa,CAAG,OAAQ,CAAC,CAAAF,IAAA,CAC9E,KAAM,CAAAG,OAAO,CAAGV,MAAM,CAAiB,IAAI,CAAC,CAC5C,KAAM,CAAAW,OAAO,CAAGX,MAAM,CAA4B,EAAE,CAAC,CACrD,KAAM,CAAAY,SAAS,CAAGZ,MAAM,CAASa,MAAM,CAACC,UAAU,CAAG,CAAC,CAAC,CAEvD,KAAM,CAAAC,UAAU,CAAG,EAAE,CACrB,KAAM,CAAAC,YAAY,CAAGC,KAAK,CAACC,IAAI,CAAC,CAAEC,MAAM,CAAEJ,UAAW,CAAC,CAAE,CAACK,CAAC,CAAEC,KAAK,WAAAC,MAAA,CAAaD,KAAK,CAAG,CAAC,CAAE,CAAC,CAC1F,KAAM,CAAAE,aAAa,CAAGf,KAAK,CAACW,MAAM,CAAG,CAAC,CAAGX,KAAK,CAACgB,KAAK,CAAC,CAAC,CAAET,UAAU,CAAC,CAAGC,YAAY,CAElFjB,SAAS,CAAC,IAAM,CACdE,IAAI,CAACwB,MAAM,CAACC,YAAY,CAAC,CAAC,CAAC,CAE3B,KAAM,CAAAC,eAAe,CAAIC,CAAa,EAAW,CAC/ChB,SAAS,CAACiB,OAAO,CAAGD,CAAC,CAACE,OAAO,CAC/B,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAY,CAC/B,KAAM,CAAAC,aAAa,CAAG,GAAG,CACzB,KAAM,CAAAC,YAAY,CAAG,GAAG,CACxB,KAAM,CAAAC,cAAc,CAAG,CAAC,GAAG,CAAE,GAAG,CAAE,GAAG,CAAE,GAAG,CAAC,CAE3CvB,OAAO,CAACkB,OAAO,CAACM,OAAO,CAAC,CAACC,GAAG,CAAEf,KAAK,GAAK,CACtC,GAAIe,GAAG,CAAE,CACP,KAAM,CAAAC,SAAS,CAAGhB,KAAK,CAAG,CAAC,GAAK,CAAC,CAAG,CAAC,CAAG,CAAC,CAAC,CAC1C,KAAM,CAAAiB,UAAU,CAAG,CAAE1B,SAAS,CAACiB,OAAO,CAAGhB,MAAM,CAACC,UAAU,CAAIkB,aAAa,CAAGA,aAAa,CAAG,CAAC,EAAIK,SAAS,CAE5GpC,IAAI,CAACsC,EAAE,CAACH,GAAG,CAAE,CACXI,CAAC,CAAEF,UAAU,CACbG,QAAQ,CAAER,YAAY,CAAGC,cAAc,CAACb,KAAK,CAAGa,cAAc,CAACf,MAAM,CAAC,CACtEuB,IAAI,CAAE,YAAY,CAClBC,SAAS,CAAE,MACb,CAAC,CAAC,CACJ,CACF,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAC,mBAAmB,CAAG3C,IAAI,CAACwB,MAAM,CAACoB,GAAG,CAACd,YAAY,CAAC,CACzDlB,MAAM,CAACiC,gBAAgB,CAAC,WAAW,CAAEnB,eAAe,CAAC,CAErD,MAAO,IAAM,CACXd,MAAM,CAACkC,mBAAmB,CAAC,WAAW,CAAEpB,eAAe,CAAC,CACxDiB,mBAAmB,CAAC,CAAC,CACvB,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEzC,IAAA,QAAK6C,GAAG,CAAEtC,OAAQ,CAACuC,SAAS,CAAC,+BAA+B,CAAAC,QAAA,cAC1D7C,KAAA,YACE4C,SAAS,CAAC,2EAA2E,CACrFE,KAAK,CAAE,CACLC,UAAU,4BAAA9B,MAAA,CAA6Bb,aAAa,0BACtD,CAAE,CAAAyC,QAAA,eAEF/C,IAAA,QAAK8C,SAAS,CAAC,8DAA8D,CAAM,CAAC,cACpF9C,IAAA,QAAK8C,SAAS,CAAC,+GAA+G,CAAAC,QAAA,CAC3HjC,KAAK,CAACC,IAAI,CAAC,CAAEC,MAAM,CAAE,CAAE,CAAC,CAAE,CAACC,CAAC,CAAEiC,QAAQ,gBACrClD,IAAA,QAEE8C,SAAS,CAAC,wBAAwB,CAClCE,KAAK,CAAE,CAAEG,UAAU,CAAE,mBAAoB,CAAE,CAC3CN,GAAG,CAAEO,EAAE,EAAI,CACT,GAAIA,EAAE,CAAE5C,OAAO,CAACkB,OAAO,CAACwB,QAAQ,CAAC,CAAGE,EAAE,CACxC,CAAE,CAAAL,QAAA,CAEDjC,KAAK,CAACC,IAAI,CAAC,CAAEC,MAAM,CAAE,CAAE,CAAC,CAAE,CAACC,CAAC,CAAEoC,SAAS,GAAK,CAC3C,KAAM,CAAAC,OAAO,CAAGlC,aAAa,CAAC8B,QAAQ,CAAG,CAAC,CAAGG,SAAS,CAAC,CACvD,mBACErD,IAAA,QAAqB8C,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvC/C,IAAA,QAAK8C,SAAS,CAAC,2HAA2H,CAAAC,QAAA,CACvI,MAAO,CAAAO,OAAO,GAAK,QAAQ,GAAKA,OAAO,CAACC,UAAU,CAAC,MAAM,CAAC,EAAID,OAAO,CAACC,UAAU,CAAC,GAAG,CAAC,CAAC,cACrFvD,IAAA,QACE8C,SAAS,CAAC,wDAAwD,CAClEE,KAAK,CAAE,CAAEQ,eAAe,QAAArC,MAAA,CAASmC,OAAO,KAAI,CAAE,CAC1C,CAAC,cAEPtD,IAAA,QAAK8C,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEO,OAAO,CAAM,CACtD,CACE,CAAC,EAVED,SAWL,CAAC,CAEV,CAAC,CAAC,EAvBGH,QAwBF,CACN,CAAC,CACC,CAAC,cACNlD,IAAA,QAAK8C,SAAS,CAAC,yDAAyD,CAAM,CAAC,EACxE,CAAC,CACP,CAAC,CAEV,CAAC,CAED,cAAe,CAAA3C,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}