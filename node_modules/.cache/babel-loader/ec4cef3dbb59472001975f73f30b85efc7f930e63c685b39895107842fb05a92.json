{"ast":null,"code":"import React,{useEffect,useState,useMemo}from'react';import{useParams,useSearchParams}from'react-router-dom';import{getProductsByCategory,getCategoriesWithCounts}from'../lib/supabase';// FilterModal removed - using AdvancedFilterModal in ProductBrowser instead\n// import { filterProducts } from '../utils/filterProducts'; // Removed - not using old filter system\nimport{parseAccreditations}from'../utils/parseAccreditations';import'./ProductListing.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const formatSizeRange=sizeRange=>{if(!sizeRange)return'';// Convert \"Sto3XL\" to \"S to 3XL\"\nreturn sizeRange.replace(/to/gi,' to ').replace(/([a-zA-Z])(\\d)/g,'$1 $2').replace(/(\\d)([a-zA-Z])/g,'$1$2').trim();};const ProductCard=_ref=>{var _productGroup$colors$2,_productGroup$style_n;let{productGroup}=_ref;const[selectedColor,setSelectedColor]=useState(0);const currentVariant=productGroup.variants.find(v=>{var _productGroup$colors$;return v.colour_code===((_productGroup$colors$=productGroup.colors[selectedColor])===null||_productGroup$colors$===void 0?void 0:_productGroup$colors$.code);})||productGroup.variants[0];const currentImage=((_productGroup$colors$2=productGroup.colors[selectedColor])===null||_productGroup$colors$2===void 0?void 0:_productGroup$colors$2.image)||(currentVariant===null||currentVariant===void 0?void 0:currentVariant.colour_image)||(currentVariant===null||currentVariant===void 0?void 0:currentVariant.primary_product_image_url);return/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-image-wrapper\",children:[/*#__PURE__*/_jsx(\"img\",{src:currentImage!=='Not available'?currentImage:'https://via.placeholder.com/400x400/1a1a1a/78BE20?text='+encodeURIComponent(((_productGroup$style_n=productGroup.style_name)===null||_productGroup$style_n===void 0?void 0:_productGroup$style_n.slice(0,2))||'P'),alt:productGroup.style_name,onError:e=>{var _productGroup$style_n2;e.currentTarget.src='https://via.placeholder.com/400x400/1a1a1a/78BE20?text='+encodeURIComponent(((_productGroup$style_n2=productGroup.style_name)===null||_productGroup$style_n2===void 0?void 0:_productGroup$style_n2.slice(0,2))||'P');}}),/*#__PURE__*/_jsx(\"div\",{className:\"product-overlay\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/green-arrow.png\",alt:\"View product\",className:\"product-arrow-icon\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"product-name\",children:productGroup.style_name}),/*#__PURE__*/_jsx(\"p\",{className:\"product-brand\",children:productGroup.brand}),/*#__PURE__*/_jsx(\"div\",{className:\"color-swatches\",children:productGroup.colors.map((color,index)=>/*#__PURE__*/_jsx(\"button\",{className:\"color-swatch \".concat(selectedColor===index?'active':''),style:{backgroundColor:color.rgb},onClick:()=>setSelectedColor(index),title:color.name},color.code))}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-details\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"product-sku\",children:[\"SKU: \",currentVariant===null||currentVariant===void 0?void 0:currentVariant.sku_code]}),/*#__PURE__*/_jsx(\"span\",{className:\"product-sizes\",children:formatSizeRange(productGroup.size_range)})]})]})]});};const ProductListing=()=>{const{categoryId}=useParams();const[searchParams]=useSearchParams();const categoryParam=searchParams.get('category');const[allProducts,setAllProducts]=useState([]);const[productGroups,setProductGroups]=useState([]);const[category,setCategory]=useState(null);const[loading,setLoading]=useState(true);const[page,setPage]=useState(1);const[totalPages,setTotalPages]=useState(1);// Removed filter modal - using ProductBrowser for advanced filtering\n// Removed old filter state - using simple category-based filtering only\nconst productsPerPage=12;// Generate filter options from products\nconst filterOptions=useMemo(()=>{if(!allProducts.length)return{materials:[],categories:[],priceRange:{min:0,max:1000},productTypes:[],sizes:[],colors:[],colorShades:[],brands:[],genders:[],ageGroups:[],accreditations:[]};// Extract unique values\nconst materials=new Set();const categories=new Set();const accreditationsRaw=[];allProducts.forEach(product=>{// Extract materials from fabric\nif(product.fabric){const commonMaterials=['Cotton','Polyester','Wool','Denim','Fleece','Canvas','Merino','Terry Cloth','Jersey','Teddy','Corduroy','Leather','Twill','French Terry','Silk','Linen','Nylon','Viscose','Acrylic','Spandex','Elastane','Polyamide','Modal','Bamboo'];commonMaterials.forEach(material=>{if(product.fabric&&product.fabric.toLowerCase().includes(material.toLowerCase())){materials.add(material);}});}// Extract categories\nif(product.categorisation){product.categorisation.split('|').forEach(cat=>{const trimmedCat=cat.trim();if(trimmedCat&&!trimmedCat.includes('Top 1000')&&!trimmedCat.includes('DM')&&!trimmedCat.includes('Raladeal')&&!trimmedCat.includes('Edge -')&&!trimmedCat.includes('New in')&&!trimmedCat.includes('Must Haves')){categories.add(trimmedCat);}});}// Collect accreditations\nif(product.accreditations){accreditationsRaw.push({accreditations:product.accreditations});}});const prices=allProducts.map(p=>parseFloat(p.single_price)).filter(p=>!isNaN(p)&&p>0);return{materials:Array.from(materials).sort(),categories:Array.from(categories).sort(),priceRange:prices.length>0?{min:Math.floor(Math.min(...prices)),max:Math.ceil(Math.max(...prices))}:{min:0,max:1000},productTypes:Array.from(new Set(allProducts.map(p=>p.product_type).filter(Boolean))).sort(),sizes:Array.from(new Set(allProducts.map(p=>p.size_name).filter(Boolean))).sort(),colors:Array.from(new Set(allProducts.map(p=>p.primary_colour).filter(Boolean))).sort(),colorShades:Array.from(new Set(allProducts.map(p=>p.colour_shade).filter(shade=>Boolean(shade)))).sort(),brands:Array.from(new Set(allProducts.map(p=>p.brand).filter(Boolean))).sort(),genders:Array.from(new Set(allProducts.map(p=>p.gender).filter(Boolean))).sort(),ageGroups:Array.from(new Set(allProducts.map(p=>p.age_group).filter(age=>Boolean(age)))).sort(),accreditations:parseAccreditations(accreditationsRaw)};},[allProducts]);// Removed filter price range setup\n// Fetch products\nuseEffect(()=>{const fetchProducts=async()=>{try{setLoading(true);// Get category info first\nconst categories=await getCategoriesWithCounts();const currentCategory=categories.find(cat=>cat.id===categoryId||cat.category_key===categoryParam||cat.category_key.toLowerCase().replace(/\\s+/g,'-')===categoryId);if(currentCategory){setCategory(currentCategory);// Fetch products for this category\nconst categoryKey=currentCategory.category_key;const productData=await getProductsByCategory(categoryKey);setAllProducts(productData);}else{console.error('Category not found:',categoryId||categoryParam);}}catch(error){console.error('Error fetching products:',error);}finally{setLoading(false);}};if(categoryId||categoryParam){fetchProducts();}},[categoryId,categoryParam]);// Apply filters and pagination\nuseEffect(()=>{if(!allProducts.length)return;// No filtering - show all products from category\nconst filteredProducts=allProducts;// Group products by style_code\nconst groupedProducts=filteredProducts.reduce((groups,product)=>{const styleCode=product.style_code||'unknown';if(!groups[styleCode]){groups[styleCode]=[];}groups[styleCode].push(product);return groups;},{});// Convert to ProductGroup format\nconst allProductGroups=Object.entries(groupedProducts).map(_ref2=>{let[styleCode,variants]=_ref2;const firstVariant=variants[0];// Get unique colors for this style\nconst uniqueColors=variants.reduce((colors,variant)=>{const existingColor=colors.find(c=>c.code===variant.colour_code);if(!existingColor&&variant.colour_code){// Parse RGB values\nlet rgbValue='#cccccc';if(variant.rgb){const rgbParts=variant.rgb.split('|')[0].trim();const rgbNumbers=rgbParts.match(/\\d+/g);if(rgbNumbers&&rgbNumbers.length>=3){const r=parseInt(rgbNumbers[0]);const g=parseInt(rgbNumbers[1]);const b=parseInt(rgbNumbers[2]);rgbValue=\"rgb(\".concat(r,\", \").concat(g,\", \").concat(b,\")\");}}colors.push({code:variant.colour_code,name:variant.colour_name||variant.colour_code,rgb:rgbValue,image:variant.colour_image||variant.primary_product_image_url});}return colors;},[]);return{style_code:styleCode,style_name:firstVariant.style_name,brand:firstVariant.brand,variants,colors:uniqueColors,size_range:firstVariant.size_range||''};});// Calculate pagination\nconst total=Math.ceil(allProductGroups.length/productsPerPage);setTotalPages(total);// Get product groups for current page\nconst startIndex=(page-1)*productsPerPage;const endIndex=startIndex+productsPerPage;const paginatedGroups=allProductGroups.slice(startIndex,endIndex);setProductGroups(paginatedGroups);},[allProducts,page]);const handlePageChange=newPage=>{setPage(newPage);window.scrollTo({top:0,behavior:'smooth'});};// Removed filter count function\nif(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"product-listing-page\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading-message\",children:\"Loading products...\"})})});}if(!category){return/*#__PURE__*/_jsx(\"div\",{className:\"product-listing-page\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:\"Category not found\"})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"product-listing-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/categories\",children:\"Categories\"}),/*#__PURE__*/_jsx(\"span\",{className:\"breadcrumb-separator\",children:\"\\u203A\"}),/*#__PURE__*/_jsx(\"span\",{className:\"breadcrumb-current\",children:category.display_name})]}),/*#__PURE__*/_jsx(\"div\",{className:\"page-header-content\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:category.display_name}),/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:productGroups.length===0?\"\".concat(category.product_count,\" products available\"):\"\".concat(productGroups.length,\" products found\")})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"products-grid\",children:productGroups.map(productGroup=>/*#__PURE__*/_jsx(ProductCard,{productGroup:productGroup},productGroup.style_code))}),totalPages>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageChange(page-1),disabled:page===1,className:\"pagination-button\",children:\"Previous\"}),/*#__PURE__*/_jsx(\"div\",{className:\"pagination-numbers\",children:Array.from({length:totalPages},(_,i)=>i+1).map(pageNum=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageChange(pageNum),className:\"pagination-number \".concat(page===pageNum?'active':''),children:pageNum},pageNum))}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageChange(page+1),disabled:page===totalPages,className:\"pagination-button\",children:\"Next\"})]}),productGroups.length===0&&!loading&&/*#__PURE__*/_jsx(\"div\",{className:\"no-products\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No products found matching your filters.\"})})]})});};export default ProductListing;","map":{"version":3,"names":["React","useEffect","useState","useMemo","useParams","useSearchParams","getProductsByCategory","getCategoriesWithCounts","parseAccreditations","jsx","_jsx","jsxs","_jsxs","formatSizeRange","sizeRange","replace","trim","ProductCard","_ref","_productGroup$colors$2","_productGroup$style_n","productGroup","selectedColor","setSelectedColor","currentVariant","variants","find","v","_productGroup$colors$","colour_code","colors","code","currentImage","image","colour_image","primary_product_image_url","className","children","src","encodeURIComponent","style_name","slice","alt","onError","e","_productGroup$style_n2","currentTarget","brand","map","color","index","concat","style","backgroundColor","rgb","onClick","title","name","sku_code","size_range","ProductListing","categoryId","searchParams","categoryParam","get","allProducts","setAllProducts","productGroups","setProductGroups","category","setCategory","loading","setLoading","page","setPage","totalPages","setTotalPages","productsPerPage","filterOptions","length","materials","categories","priceRange","min","max","productTypes","sizes","colorShades","brands","genders","ageGroups","accreditations","Set","accreditationsRaw","forEach","product","fabric","commonMaterials","material","toLowerCase","includes","add","categorisation","split","cat","trimmedCat","push","prices","p","parseFloat","single_price","filter","isNaN","Array","from","sort","Math","floor","ceil","product_type","Boolean","size_name","primary_colour","colour_shade","shade","gender","age_group","age","fetchProducts","currentCategory","id","category_key","categoryKey","productData","console","error","filteredProducts","groupedProducts","reduce","groups","styleCode","style_code","allProductGroups","Object","entries","_ref2","firstVariant","uniqueColors","variant","existingColor","c","rgbValue","rgbParts","rgbNumbers","match","r","parseInt","g","b","colour_name","total","startIndex","endIndex","paginatedGroups","handlePageChange","newPage","window","scrollTo","top","behavior","href","display_name","product_count","disabled","_","i","pageNum"],"sources":["/home/alastair/Desktop/outpost-custom/outpost-custom/src/pages/ProductListing.tsx"],"sourcesContent":["import React, { useEffect, useState, useMemo } from 'react';\nimport { useParams, useSearchParams } from 'react-router-dom';\nimport { getProductsByCategory, getCategoriesWithCounts } from '../lib/supabase';\nimport { Product, CategoryData } from '../lib/supabase';\nimport { Filter } from 'lucide-react';\n// FilterModal removed - using AdvancedFilterModal in ProductBrowser instead\n// import { filterProducts } from '../utils/filterProducts'; // Removed - not using old filter system\nimport { parseAccreditations } from '../utils/parseAccreditations';\nimport './ProductListing.css';\n\ninterface ProductGroup {\n  style_code: string;\n  style_name: string;\n  brand: string;\n  variants: Product[];\n  colors: Array<{\n    code: string;\n    name: string;\n    rgb: string;\n    image: string;\n  }>;\n  size_range: string;\n}\n\ninterface ProductCardProps {\n  productGroup: ProductGroup;\n}\n\nconst formatSizeRange = (sizeRange: string): string => {\n  if (!sizeRange) return '';\n  \n  // Convert \"Sto3XL\" to \"S to 3XL\"\n  return sizeRange\n    .replace(/to/gi, ' to ')\n    .replace(/([a-zA-Z])(\\d)/g, '$1 $2')\n    .replace(/(\\d)([a-zA-Z])/g, '$1$2')\n    .trim();\n};\n\nconst ProductCard: React.FC<ProductCardProps> = ({ productGroup }) => {\n  const [selectedColor, setSelectedColor] = useState(0);\n  \n  const currentVariant = productGroup.variants.find(v => \n    v.colour_code === productGroup.colors[selectedColor]?.code\n  ) || productGroup.variants[0];\n  \n  const currentImage = productGroup.colors[selectedColor]?.image || \n    currentVariant?.colour_image || \n    currentVariant?.primary_product_image_url;\n\n  return (\n    <div className=\"product-card\">\n      <div className=\"product-image-wrapper\">\n        <img\n          src={currentImage !== 'Not available' \n            ? currentImage \n            : 'https://via.placeholder.com/400x400/1a1a1a/78BE20?text=' + encodeURIComponent(productGroup.style_name?.slice(0, 2) || 'P')\n          }\n          alt={productGroup.style_name}\n          onError={(e) => {\n            e.currentTarget.src = 'https://via.placeholder.com/400x400/1a1a1a/78BE20?text=' + encodeURIComponent(productGroup.style_name?.slice(0, 2) || 'P');\n          }}\n        />\n        <div className=\"product-overlay\">\n          <img src=\"/images/green-arrow.png\" alt=\"View product\" className=\"product-arrow-icon\" />\n        </div>\n      </div>\n      <div className=\"product-info\">\n        <h3 className=\"product-name\">{productGroup.style_name}</h3>\n        <p className=\"product-brand\">{productGroup.brand}</p>\n        \n        {/* Color Swatches */}\n        <div className=\"color-swatches\">\n          {productGroup.colors.map((color, index) => (\n            <button\n              key={color.code}\n              className={`color-swatch ${selectedColor === index ? 'active' : ''}`}\n              style={{ backgroundColor: color.rgb }}\n              onClick={() => setSelectedColor(index)}\n              title={color.name}\n            />\n          ))}\n        </div>\n        \n        <div className=\"product-details\">\n          <span className=\"product-sku\">SKU: {currentVariant?.sku_code}</span>\n          <span className=\"product-sizes\">{formatSizeRange(productGroup.size_range)}</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst ProductListing: React.FC = () => {\n  const { categoryId } = useParams<{ categoryId: string }>();\n  const [searchParams] = useSearchParams();\n  const categoryParam = searchParams.get('category');\n  \n  const [allProducts, setAllProducts] = useState<Product[]>([]);\n  const [productGroups, setProductGroups] = useState<ProductGroup[]>([]);\n  const [category, setCategory] = useState<CategoryData | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  // Removed filter modal - using ProductBrowser for advanced filtering\n// Removed old filter state - using simple category-based filtering only\n  \n  const productsPerPage = 12;\n\n  // Generate filter options from products\n  const filterOptions = useMemo(() => {\n    if (!allProducts.length) return {\n      materials: [],\n      categories: [],\n      priceRange: { min: 0, max: 1000 },\n      productTypes: [],\n      sizes: [],\n      colors: [],\n      colorShades: [],\n      brands: [],\n      genders: [],\n      ageGroups: [],\n      accreditations: []\n    };\n\n    // Extract unique values\n    const materials = new Set<string>();\n    const categories = new Set<string>();\n    const accreditationsRaw: { accreditations: string }[] = [];\n    \n    allProducts.forEach(product => {\n      // Extract materials from fabric\n      if (product.fabric) {\n        const commonMaterials = [\n          'Cotton', 'Polyester', 'Wool', 'Denim', 'Fleece', 'Canvas',\n          'Merino', 'Terry Cloth', 'Jersey', 'Teddy', 'Corduroy', 'Leather',\n          'Twill', 'French Terry', 'Silk', 'Linen', 'Nylon', 'Viscose',\n          'Acrylic', 'Spandex', 'Elastane', 'Polyamide', 'Modal', 'Bamboo'\n        ];\n        \n        commonMaterials.forEach(material => {\n          if (product.fabric && product.fabric.toLowerCase().includes(material.toLowerCase())) {\n            materials.add(material);\n          }\n        });\n      }\n      \n      // Extract categories\n      if (product.categorisation) {\n        product.categorisation.split('|').forEach(cat => {\n          const trimmedCat = cat.trim();\n          if (trimmedCat && \n              !trimmedCat.includes('Top 1000') &&\n              !trimmedCat.includes('DM') &&\n              !trimmedCat.includes('Raladeal') &&\n              !trimmedCat.includes('Edge -') &&\n              !trimmedCat.includes('New in') &&\n              !trimmedCat.includes('Must Haves')) {\n            categories.add(trimmedCat);\n          }\n        });\n      }\n      \n      // Collect accreditations\n      if (product.accreditations) {\n        accreditationsRaw.push({ accreditations: product.accreditations });\n      }\n    });\n    \n    const prices = allProducts\n      .map(p => parseFloat(p.single_price))\n      .filter(p => !isNaN(p) && p > 0);\n    \n    return {\n      materials: Array.from(materials).sort(),\n      categories: Array.from(categories).sort(),\n      priceRange: prices.length > 0 ? {\n        min: Math.floor(Math.min(...prices)),\n        max: Math.ceil(Math.max(...prices))\n      } : { min: 0, max: 1000 },\n      productTypes: Array.from(new Set(allProducts.map(p => p.product_type).filter(Boolean))).sort(),\n      sizes: Array.from(new Set(allProducts.map(p => p.size_name).filter(Boolean))).sort(),\n      colors: Array.from(new Set(allProducts.map(p => p.primary_colour).filter(Boolean))).sort(),\n      colorShades: Array.from(new Set(allProducts.map(p => p.colour_shade).filter((shade): shade is string => Boolean(shade)))).sort(),\n      brands: Array.from(new Set(allProducts.map(p => p.brand).filter(Boolean))).sort(),\n      genders: Array.from(new Set(allProducts.map(p => p.gender).filter(Boolean))).sort(),\n      ageGroups: Array.from(new Set(allProducts.map(p => p.age_group).filter((age): age is string => Boolean(age)))).sort(),\n      accreditations: parseAccreditations(accreditationsRaw)\n    };\n  }, [allProducts]);\n\n  // Removed filter price range setup\n\n  // Fetch products\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        setLoading(true);\n        \n        // Get category info first\n        const categories = await getCategoriesWithCounts();\n        const currentCategory = categories.find(cat => \n          cat.id === categoryId || \n          cat.category_key === categoryParam ||\n          cat.category_key.toLowerCase().replace(/\\s+/g, '-') === categoryId\n        );\n        \n        if (currentCategory) {\n          setCategory(currentCategory);\n          \n          // Fetch products for this category\n          const categoryKey = currentCategory.category_key;\n          const productData = await getProductsByCategory(categoryKey);\n          setAllProducts(productData);\n        } else {\n          console.error('Category not found:', categoryId || categoryParam);\n        }\n      } catch (error) {\n        console.error('Error fetching products:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (categoryId || categoryParam) {\n      fetchProducts();\n    }\n  }, [categoryId, categoryParam]);\n\n  // Apply filters and pagination\n  useEffect(() => {\n    if (!allProducts.length) return;\n\n    // No filtering - show all products from category\n    const filteredProducts = allProducts;\n    \n    // Group products by style_code\n    const groupedProducts = filteredProducts.reduce((groups: Record<string, Product[]>, product) => {\n      const styleCode = product.style_code || 'unknown';\n      if (!groups[styleCode]) {\n        groups[styleCode] = [];\n      }\n      groups[styleCode].push(product);\n      return groups;\n    }, {});\n    \n    // Convert to ProductGroup format\n    const allProductGroups: ProductGroup[] = Object.entries(groupedProducts).map(([styleCode, variants]) => {\n      const firstVariant = variants[0];\n      \n      // Get unique colors for this style\n      const uniqueColors = variants.reduce((colors: Array<{code: string, name: string, rgb: string, image: string}>, variant) => {\n        const existingColor = colors.find(c => c.code === variant.colour_code);\n        if (!existingColor && variant.colour_code) {\n          // Parse RGB values\n          let rgbValue = '#cccccc';\n          \n          if (variant.rgb) {\n            const rgbParts = variant.rgb.split('|')[0].trim();\n            const rgbNumbers = rgbParts.match(/\\d+/g);\n            \n            if (rgbNumbers && rgbNumbers.length >= 3) {\n              const r = parseInt(rgbNumbers[0]);\n              const g = parseInt(rgbNumbers[1]);\n              const b = parseInt(rgbNumbers[2]);\n              rgbValue = `rgb(${r}, ${g}, ${b})`;\n            }\n          }\n          \n          colors.push({\n            code: variant.colour_code,\n            name: variant.colour_name || variant.colour_code,\n            rgb: rgbValue,\n            image: variant.colour_image || variant.primary_product_image_url\n          });\n        }\n        return colors;\n      }, []);\n      \n      return {\n        style_code: styleCode,\n        style_name: firstVariant.style_name,\n        brand: firstVariant.brand,\n        variants,\n        colors: uniqueColors,\n        size_range: firstVariant.size_range || ''\n      };\n    });\n    \n    // Calculate pagination\n    const total = Math.ceil(allProductGroups.length / productsPerPage);\n    setTotalPages(total);\n    \n    // Get product groups for current page\n    const startIndex = (page - 1) * productsPerPage;\n    const endIndex = startIndex + productsPerPage;\n    const paginatedGroups = allProductGroups.slice(startIndex, endIndex);\n    \n    setProductGroups(paginatedGroups);\n  }, [allProducts, page]);\n\n  const handlePageChange = (newPage: number) => {\n    setPage(newPage);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  // Removed filter count function\n\n  if (loading) {\n    return (\n      <div className=\"product-listing-page\">\n        <div className=\"container\">\n          <div className=\"loading-message\">Loading products...</div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!category) {\n    return (\n      <div className=\"product-listing-page\">\n        <div className=\"container\">\n          <div className=\"error-message\">Category not found</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"product-listing-page\">\n      <div className=\"container\">\n        {/* Page Header */}\n        <div className=\"page-header\">\n          <div className=\"breadcrumb\">\n            <a href=\"/categories\">Categories</a>\n            <span className=\"breadcrumb-separator\">â€º</span>\n            <span className=\"breadcrumb-current\">{category.display_name}</span>\n          </div>\n          <div className=\"page-header-content\">\n            <div>\n              <h1 className=\"page-title\">{category.display_name}</h1>\n              <p className=\"page-subtitle\">\n                {productGroups.length === 0 \n                  ? `${category.product_count} products available`\n                  : `${productGroups.length} products found`}\n              </p>\n            </div>\n            {/* Filter button removed - advanced filtering available in ProductBrowser */}\n          </div>\n        </div>\n\n        {/* Products Grid */}\n        <div className=\"products-grid\">\n          {productGroups.map((productGroup) => (\n            <ProductCard key={productGroup.style_code} productGroup={productGroup} />\n          ))}\n        </div>\n\n        {/* Pagination */}\n        {totalPages > 1 && (\n          <div className=\"pagination\">\n            <button\n              onClick={() => handlePageChange(page - 1)}\n              disabled={page === 1}\n              className=\"pagination-button\"\n            >\n              Previous\n            </button>\n            \n            <div className=\"pagination-numbers\">\n              {Array.from({ length: totalPages }, (_, i) => i + 1).map((pageNum) => (\n                <button\n                  key={pageNum}\n                  onClick={() => handlePageChange(pageNum)}\n                  className={`pagination-number ${page === pageNum ? 'active' : ''}`}\n                >\n                  {pageNum}\n                </button>\n              ))}\n            </div>\n            \n            <button\n              onClick={() => handlePageChange(page + 1)}\n              disabled={page === totalPages}\n              className=\"pagination-button\"\n            >\n              Next\n            </button>\n          </div>\n        )}\n\n        {productGroups.length === 0 && !loading && (\n          <div className=\"no-products\">\n            <p>No products found matching your filters.</p>\n          </div>\n        )}\n      </div>\n      \n      {/* Filter modal removed - advanced filtering available in ProductBrowser */}\n    </div>\n  );\n};\n\nexport default ProductListing;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}