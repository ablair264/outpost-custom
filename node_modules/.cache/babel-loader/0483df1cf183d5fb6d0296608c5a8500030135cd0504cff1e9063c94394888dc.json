{"ast":null,"code":"var _jsxFileName = \"/home/alastair/Desktop/outpost-custom/outpost-custom/src/pages/ProductDetails.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { supabase } from '../lib/supabase';\nimport './ProductDetails.css';\nimport LogoCustomizerModal from '../components/LogoCustomizerModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductDetails = () => {\n  _s();\n  var _productGroup$colors$3, _productGroup$style_n2, _productGroup$colors$4;\n  const {\n    styleCode\n  } = useParams();\n  const navigate = useNavigate();\n  const [productGroup, setProductGroup] = useState(null);\n  const [selectedColor, setSelectedColor] = useState(0);\n  const [selectedSize, setSelectedSize] = useState('');\n  const [selectedImageIndex, setSelectedImageIndex] = useState(0);\n  const [quantity, setQuantity] = useState(1);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showLogoModal, setShowLogoModal] = useState(false);\n  const [logoOverlay, setLogoOverlay] = useState(null);\n  useEffect(() => {\n    if (!styleCode) return;\n    const fetchProduct = async () => {\n      try {\n        setLoading(true);\n        const {\n          data,\n          error\n        } = await supabase.from('product_data').select('*').eq('style_code', styleCode);\n        if (error) throw error;\n        if (!data || data.length === 0) {\n          setError('Product not found');\n          return;\n        }\n\n        // Group variants by style\n        const variants = data;\n        console.log('Variants data:', variants); // Debug log\n\n        const colors = Array.from(new Set(variants.map(v => v.colour_code))).map(code => {\n          const variant = variants.find(v => v.colour_code === code);\n          console.log('Processing color:', variant.colour_name, 'RGB:', variant.rgb, 'Code:', code); // Debug log\n\n          // Always use color name mapping for better accuracy\n          const colorName = variant.colour_name.toLowerCase();\n          let displayColor = variant.rgb;\n\n          // Map color names to appropriate colors\n          if (colorName.includes('black')) displayColor = '#000000';else if (colorName.includes('white')) displayColor = '#ffffff';else if (colorName.includes('red')) displayColor = '#dc3545';else if (colorName.includes('blue')) displayColor = '#007bff';else if (colorName.includes('green')) displayColor = '#28a745';else if (colorName.includes('yellow')) displayColor = '#ffc107';else if (colorName.includes('grey') || colorName.includes('gray')) displayColor = '#6c757d';else if (colorName.includes('navy')) displayColor = '#001f3f';else if (colorName.includes('orange')) displayColor = '#ff6b35';else if (colorName.includes('purple')) displayColor = '#6f42c1';else if (colorName.includes('pink')) displayColor = '#e83e8c';else if (colorName.includes('brown')) displayColor = '#8b4513';else if (!displayColor || displayColor === 'Not available' || displayColor === '' || displayColor === '#') {\n            displayColor = '#cccccc'; // Default fallback color\n          }\n          console.log('Final color for', variant.colour_name, ':', displayColor); // Debug log\n\n          return {\n            code,\n            name: variant.colour_name,\n            rgb: displayColor,\n            image: variant.colour_image || variant.primary_product_image_url\n          };\n        });\n        const prices = variants.map(v => parseFloat(v.single_price)).filter(p => !isNaN(p));\n        const priceRange = prices.length > 0 ? {\n          min: Math.min(...prices),\n          max: Math.max(...prices)\n        } : undefined;\n        setProductGroup({\n          style_code: variants[0].style_code,\n          style_name: variants[0].style_name,\n          brand: variants[0].brand,\n          variants,\n          colors,\n          size_range: variants[0].size_range,\n          price_range: priceRange\n        });\n\n        // Set the initial selected color to match the first variant's color\n        const firstVariantColorIndex = colors.findIndex(color => color.code === variants[0].colour_code);\n        if (firstVariantColorIndex !== -1) {\n          setSelectedColor(firstVariantColorIndex);\n        }\n      } catch (err) {\n        console.error('Error fetching product:', err);\n        setError('Failed to load product');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchProduct();\n  }, [styleCode]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-details-loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading product details...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this);\n  }\n  if (error || !productGroup) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-details-error\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Product Not Found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error || 'The product you are looking for does not exist.'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate(-1),\n        className: \"back-button\",\n        children: \"Go Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this);\n  }\n  const currentVariant = productGroup.variants.find(v => {\n    var _productGroup$colors$;\n    return v.colour_code === ((_productGroup$colors$ = productGroup.colors[selectedColor]) === null || _productGroup$colors$ === void 0 ? void 0 : _productGroup$colors$.code);\n  }) || productGroup.variants[0];\n  const availableSizes = productGroup.variants.filter(v => {\n    var _productGroup$colors$2;\n    return v.colour_code === ((_productGroup$colors$2 = productGroup.colors[selectedColor]) === null || _productGroup$colors$2 === void 0 ? void 0 : _productGroup$colors$2.code);\n  }).map(v => ({\n    code: v.size_code,\n    name: v.size_name\n  })).filter((size, index, self) => index === self.findIndex(s => s.code === size.code));\n  const currentImages = [((_productGroup$colors$3 = productGroup.colors[selectedColor]) === null || _productGroup$colors$3 === void 0 ? void 0 : _productGroup$colors$3.image) || (currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.primary_product_image_url), currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.colour_image, currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.primary_product_image_url].filter((img, index, self) => img && img !== 'Not available' && self.indexOf(img) === index);\n  const formatPrice = priceRange => {\n    if (!priceRange) return '';\n    if (priceRange.min === priceRange.max) {\n      return `£${priceRange.min.toFixed(2)}`;\n    }\n    return `£${priceRange.min.toFixed(2)} - £${priceRange.max.toFixed(2)}`;\n  };\n  const handleAddToCart = () => {\n    // TODO: Implement add to cart functionality\n    console.log('Add to cart:', {\n      product: currentVariant,\n      quantity,\n      selectedSize\n    });\n  };\n  const handleApplyLogo = config => {\n    setLogoOverlay(config);\n    setShowLogoModal(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-details\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"breadcrumb\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/'),\n          className: \"breadcrumb-link\",\n          children: \"Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"breadcrumb-separator\",\n          children: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/products'),\n          className: \"breadcrumb-link\",\n          children: \"Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"breadcrumb-separator\",\n          children: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"breadcrumb-current\",\n          children: productGroup.style_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-details-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-images\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image-thumbnails\",\n            children: currentImages.map((image, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `thumbnail ${selectedImageIndex === index ? 'active' : ''}`,\n              onClick: () => setSelectedImageIndex(index),\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: image,\n                alt: `${productGroup.style_name} view ${index + 1}`,\n                onError: e => {\n                  var _productGroup$style_n;\n                  e.currentTarget.src = 'https://via.placeholder.com/100x100/1a1a1a/78BE20?text=' + encodeURIComponent(((_productGroup$style_n = productGroup.style_name) === null || _productGroup$style_n === void 0 ? void 0 : _productGroup$style_n.slice(0, 2)) || 'P');\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 19\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"main-image\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: currentImages[selectedImageIndex] || 'https://via.placeholder.com/600x600/1a1a1a/78BE20?text=' + encodeURIComponent(((_productGroup$style_n2 = productGroup.style_name) === null || _productGroup$style_n2 === void 0 ? void 0 : _productGroup$style_n2.slice(0, 2)) || 'P'),\n              alt: productGroup.style_name,\n              onError: e => {\n                var _productGroup$style_n3;\n                e.currentTarget.src = 'https://via.placeholder.com/600x600/1a1a1a/78BE20?text=' + encodeURIComponent(((_productGroup$style_n3 = productGroup.style_name) === null || _productGroup$style_n3 === void 0 ? void 0 : _productGroup$style_n3.slice(0, 2)) || 'P');\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this), logoOverlay && /*#__PURE__*/_jsxDEV(\"img\", {\n              src: logoOverlay.src,\n              alt: \"Applied logo\",\n              className: \"logo-overlay-img\",\n              style: {\n                left: `${logoOverlay.x}%`,\n                top: `${logoOverlay.y}%`,\n                width: `${logoOverlay.sizePct}%`,\n                opacity: logoOverlay.opacity,\n                transform: `translate(-50%, -50%) rotate(${logoOverlay.rotation}deg)`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 17\n            }, this), (currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.sustainable_organic) === 'Yes' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sustainability-badge\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u267B\\uFE0F Sustainable\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"product-brand\",\n              children: productGroup.brand\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"product-title\",\n              children: productGroup.style_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"product-sku\",\n              children: [\"SKU: \", currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.sku_code]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-price\",\n            children: formatPrice(productGroup.price_range)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-options\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"option-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"option-label\",\n                children: [\"Color: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"selected-option\",\n                  children: (_productGroup$colors$4 = productGroup.colors[selectedColor]) === null || _productGroup$colors$4 === void 0 ? void 0 : _productGroup$colors$4.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 26\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"color-swatches\",\n                children: productGroup.colors.map((color, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: `color-swatch ${selectedColor === index ? 'active' : ''}`,\n                  style: {\n                    backgroundColor: color.rgb\n                  },\n                  onClick: () => {\n                    setSelectedColor(index);\n                    setSelectedSize('');\n                    setSelectedImageIndex(0);\n                  },\n                  title: color.name\n                }, color.code, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this), availableSizes.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"option-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"option-label\",\n                children: \"Size:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"size-options\",\n                children: availableSizes.map(size => /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: `size-option ${selectedSize === size.code ? 'active' : ''}`,\n                  onClick: () => setSelectedSize(size.code),\n                  children: size.name\n                }, size.code, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"option-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"option-label\",\n                children: \"Quantity:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"quantity-selector\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"quantity-btn\",\n                  onClick: () => setQuantity(Math.max(1, quantity - 1)),\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"quantity-value\",\n                  children: quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"quantity-btn\",\n                  onClick: () => setQuantity(quantity + 1),\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"add-to-cart-btn\",\n              onClick: handleAddToCart,\n              disabled: availableSizes.length > 0 && !selectedSize,\n              children: \"Add to Cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: 12\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: 12\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"try-logo-btn\",\n                onClick: () => setShowLogoModal(true),\n                children: \"Try your logo on this\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 17\n              }, this), logoOverlay && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"clear-btn\",\n                onClick: () => setLogoOverlay(null),\n                children: \"Remove logo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-details-info\",\n            children: [(currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.specification) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: currentVariant.specification\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 17\n            }, this), (currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.fabric) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Fabric\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: currentVariant.fabric\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 17\n            }, this), (currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.accreditations) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Accreditations\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: currentVariant.accreditations\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Product Information\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Brand:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 387,\n                    columnNumber: 23\n                  }, this), \" \", productGroup.brand]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Type:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 388,\n                    columnNumber: 23\n                  }, this), \" \", currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.product_type]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Gender:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 23\n                  }, this), \" \", currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.gender]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 19\n                }, this), (currentVariant === null || currentVariant === void 0 ? void 0 : currentVariant.age_group) && /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Age Group:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 25\n                  }, this), \" \", currentVariant.age_group]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Size Range:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 393,\n                    columnNumber: 23\n                  }, this), \" \", productGroup.size_range]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), showLogoModal && /*#__PURE__*/_jsxDEV(LogoCustomizerModal, {\n      isOpen: showLogoModal,\n      onClose: () => setShowLogoModal(false),\n      onApply: (cfg, selectedColorIndex) => {\n        if (typeof selectedColorIndex === 'number' && selectedColorIndex >= 0 && selectedColorIndex < productGroup.colors.length) {\n          setSelectedColor(selectedColorIndex);\n          setSelectedImageIndex(0);\n        }\n        handleApplyLogo(cfg);\n      },\n      baseImageUrl: currentImages[selectedImageIndex],\n      productColors: productGroup.colors,\n      initialColorIndex: selectedColor,\n      initialConfig: logoOverlay !== null && logoOverlay !== void 0 ? logoOverlay : undefined\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductDetails, \"2zhvcf4gltklBQzBzANLAE09+oA=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ProductDetails;\nexport default ProductDetails;\nvar _c;\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","supabase","LogoCustomizerModal","jsxDEV","_jsxDEV","ProductDetails","_s","_productGroup$colors$3","_productGroup$style_n2","_productGroup$colors$4","styleCode","navigate","productGroup","setProductGroup","selectedColor","setSelectedColor","selectedSize","setSelectedSize","selectedImageIndex","setSelectedImageIndex","quantity","setQuantity","loading","setLoading","error","setError","showLogoModal","setShowLogoModal","logoOverlay","setLogoOverlay","fetchProduct","data","from","select","eq","length","variants","console","log","colors","Array","Set","map","v","colour_code","code","variant","find","colour_name","rgb","colorName","toLowerCase","displayColor","includes","name","image","colour_image","primary_product_image_url","prices","parseFloat","single_price","filter","p","isNaN","priceRange","min","Math","max","undefined","style_code","style_name","brand","size_range","price_range","firstVariantColorIndex","findIndex","color","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","currentVariant","_productGroup$colors$","availableSizes","_productGroup$colors$2","size_code","size_name","size","index","self","s","currentImages","img","indexOf","formatPrice","toFixed","handleAddToCart","product","handleApplyLogo","config","src","alt","onError","e","_productGroup$style_n","currentTarget","encodeURIComponent","slice","_productGroup$style_n3","style","left","x","top","y","width","sizePct","opacity","transform","rotation","sustainable_organic","sku_code","backgroundColor","title","disabled","height","display","gap","specification","fabric","accreditations","product_type","gender","age_group","isOpen","onClose","onApply","cfg","selectedColorIndex","baseImageUrl","productColors","initialColorIndex","initialConfig","_c","$RefreshReg$"],"sources":["/home/alastair/Desktop/outpost-custom/outpost-custom/src/pages/ProductDetails.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Product } from '../lib/supabase';\nimport { supabase } from '../lib/supabase';\nimport './ProductDetails.css';\nimport LogoCustomizerModal, { LogoOverlayConfig } from '../components/LogoCustomizerModal';\n\ninterface ProductGroup {\n  style_code: string;\n  style_name: string;\n  brand: string;\n  variants: Product[];\n  colors: Array<{\n    code: string;\n    name: string;\n    rgb: string;\n    image: string;\n  }>;\n  size_range: string;\n  price_range?: { min: number; max: number };\n}\n\nconst ProductDetails: React.FC = () => {\n  const { styleCode } = useParams<{ styleCode: string }>();\n  const navigate = useNavigate();\n  const [productGroup, setProductGroup] = useState<ProductGroup | null>(null);\n  const [selectedColor, setSelectedColor] = useState(0);\n  const [selectedSize, setSelectedSize] = useState<string>('');\n  const [selectedImageIndex, setSelectedImageIndex] = useState(0);\n  const [quantity, setQuantity] = useState(1);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [showLogoModal, setShowLogoModal] = useState(false);\n  const [logoOverlay, setLogoOverlay] = useState<LogoOverlayConfig | null>(null);\n\n  useEffect(() => {\n    if (!styleCode) return;\n    \n    const fetchProduct = async () => {\n      try {\n        setLoading(true);\n        const { data, error } = await supabase\n          .from('product_data')\n          .select('*')\n          .eq('style_code', styleCode);\n\n        if (error) throw error;\n        if (!data || data.length === 0) {\n          setError('Product not found');\n          return;\n        }\n\n        // Group variants by style\n        const variants = data as Product[];\n        console.log('Variants data:', variants); // Debug log\n        \n        const colors = Array.from(new Set(variants.map(v => v.colour_code)))\n          .map(code => {\n            const variant = variants.find(v => v.colour_code === code)!;\n            console.log('Processing color:', variant.colour_name, 'RGB:', variant.rgb, 'Code:', code); // Debug log\n            \n            // Always use color name mapping for better accuracy\n            const colorName = variant.colour_name.toLowerCase();\n            let displayColor = variant.rgb;\n            \n            // Map color names to appropriate colors\n            if (colorName.includes('black')) displayColor = '#000000';\n            else if (colorName.includes('white')) displayColor = '#ffffff';\n            else if (colorName.includes('red')) displayColor = '#dc3545';\n            else if (colorName.includes('blue')) displayColor = '#007bff';\n            else if (colorName.includes('green')) displayColor = '#28a745';\n            else if (colorName.includes('yellow')) displayColor = '#ffc107';\n            else if (colorName.includes('grey') || colorName.includes('gray')) displayColor = '#6c757d';\n            else if (colorName.includes('navy')) displayColor = '#001f3f';\n            else if (colorName.includes('orange')) displayColor = '#ff6b35';\n            else if (colorName.includes('purple')) displayColor = '#6f42c1';\n            else if (colorName.includes('pink')) displayColor = '#e83e8c';\n            else if (colorName.includes('brown')) displayColor = '#8b4513';\n            else if (!displayColor || displayColor === 'Not available' || displayColor === '' || displayColor === '#') {\n              displayColor = '#cccccc'; // Default fallback color\n            }\n            \n            console.log('Final color for', variant.colour_name, ':', displayColor); // Debug log\n            \n            return {\n              code,\n              name: variant.colour_name,\n              rgb: displayColor,\n              image: variant.colour_image || variant.primary_product_image_url\n            };\n          });\n\n        const prices = variants\n          .map(v => parseFloat(v.single_price))\n          .filter(p => !isNaN(p));\n        \n        const priceRange = prices.length > 0 ? {\n          min: Math.min(...prices),\n          max: Math.max(...prices)\n        } : undefined;\n\n        setProductGroup({\n          style_code: variants[0].style_code,\n          style_name: variants[0].style_name,\n          brand: variants[0].brand,\n          variants,\n          colors,\n          size_range: variants[0].size_range,\n          price_range: priceRange\n        });\n\n        // Set the initial selected color to match the first variant's color\n        const firstVariantColorIndex = colors.findIndex(color => \n          color.code === variants[0].colour_code\n        );\n        if (firstVariantColorIndex !== -1) {\n          setSelectedColor(firstVariantColorIndex);\n        }\n      } catch (err) {\n        console.error('Error fetching product:', err);\n        setError('Failed to load product');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchProduct();\n  }, [styleCode]);\n\n  if (loading) {\n    return (\n      <div className=\"product-details-loading\">\n        <div className=\"loading-spinner\"></div>\n        <p>Loading product details...</p>\n      </div>\n    );\n  }\n\n  if (error || !productGroup) {\n    return (\n      <div className=\"product-details-error\">\n        <h2>Product Not Found</h2>\n        <p>{error || 'The product you are looking for does not exist.'}</p>\n        <button onClick={() => navigate(-1)} className=\"back-button\">\n          Go Back\n        </button>\n      </div>\n    );\n  }\n\n  const currentVariant = productGroup.variants.find(v => \n    v.colour_code === productGroup.colors[selectedColor]?.code\n  ) || productGroup.variants[0];\n\n  const availableSizes = productGroup.variants\n    .filter(v => v.colour_code === productGroup.colors[selectedColor]?.code)\n    .map(v => ({ code: v.size_code, name: v.size_name }))\n    .filter((size, index, self) => \n      index === self.findIndex(s => s.code === size.code)\n    );\n\n  const currentImages = [\n    productGroup.colors[selectedColor]?.image || currentVariant?.primary_product_image_url,\n    currentVariant?.colour_image,\n    currentVariant?.primary_product_image_url\n  ].filter((img, index, self) => \n    img && img !== 'Not available' && self.indexOf(img) === index\n  );\n\n  const formatPrice = (priceRange?: { min: number; max: number }): string => {\n    if (!priceRange) return '';\n    \n    if (priceRange.min === priceRange.max) {\n      return `£${priceRange.min.toFixed(2)}`;\n    }\n    \n    return `£${priceRange.min.toFixed(2)} - £${priceRange.max.toFixed(2)}`;\n  };\n\n  const handleAddToCart = () => {\n    // TODO: Implement add to cart functionality\n    console.log('Add to cart:', {\n      product: currentVariant,\n      quantity,\n      selectedSize\n    });\n  };\n\n  const handleApplyLogo = (config: LogoOverlayConfig) => {\n    setLogoOverlay(config);\n    setShowLogoModal(false);\n  };\n\n  return (\n    <div className=\"product-details\">\n      <div className=\"container\">\n        {/* Breadcrumb */}\n        <nav className=\"breadcrumb\">\n          <button onClick={() => navigate('/')} className=\"breadcrumb-link\">Home</button>\n          <span className=\"breadcrumb-separator\">/</span>\n          <button onClick={() => navigate('/products')} className=\"breadcrumb-link\">Products</button>\n          <span className=\"breadcrumb-separator\">/</span>\n          <span className=\"breadcrumb-current\">{productGroup.style_name}</span>\n        </nav>\n\n        <div className=\"product-details-content\">\n          {/* Product Images */}\n          <div className=\"product-images\">\n            <div className=\"image-thumbnails\">\n              {currentImages.map((image, index) => (\n                <button\n                  key={index}\n                  className={`thumbnail ${selectedImageIndex === index ? 'active' : ''}`}\n                  onClick={() => setSelectedImageIndex(index)}\n                >\n                  <img \n                    src={image} \n                    alt={`${productGroup.style_name} view ${index + 1}`}\n                    onError={(e) => {\n                      e.currentTarget.src = 'https://via.placeholder.com/100x100/1a1a1a/78BE20?text=' + \n                        encodeURIComponent(productGroup.style_name?.slice(0, 2) || 'P');\n                    }}\n                  />\n                </button>\n              ))}\n            </div>\n            <div className=\"main-image\">\n              <img \n                src={currentImages[selectedImageIndex] || 'https://via.placeholder.com/600x600/1a1a1a/78BE20?text=' + \n                  encodeURIComponent(productGroup.style_name?.slice(0, 2) || 'P')}\n                alt={productGroup.style_name}\n                onError={(e) => {\n                  e.currentTarget.src = 'https://via.placeholder.com/600x600/1a1a1a/78BE20?text=' + \n                    encodeURIComponent(productGroup.style_name?.slice(0, 2) || 'P');\n                }}\n              />\n              {logoOverlay && (\n                <img\n                  src={logoOverlay.src}\n                  alt=\"Applied logo\"\n                  className=\"logo-overlay-img\"\n                  style={{\n                    left: `${logoOverlay.x}%`,\n                    top: `${logoOverlay.y}%`,\n                    width: `${logoOverlay.sizePct}%`,\n                    opacity: logoOverlay.opacity,\n                    transform: `translate(-50%, -50%) rotate(${logoOverlay.rotation}deg)`\n                  }}\n                />\n              )}\n              {currentVariant?.sustainable_organic === 'Yes' && (\n                <div className=\"sustainability-badge\">\n                  <span>♻️ Sustainable</span>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Product Info */}\n          <div className=\"product-info\">\n            <div className=\"product-header\">\n              <p className=\"product-brand\">{productGroup.brand}</p>\n              <h1 className=\"product-title\">{productGroup.style_name}</h1>\n              <p className=\"product-sku\">SKU: {currentVariant?.sku_code}</p>\n            </div>\n\n            <div className=\"product-price\">\n              {formatPrice(productGroup.price_range)}\n            </div>\n\n            {/* Color Selection */}\n            <div className=\"product-options\">\n              <div className=\"option-group\">\n                <label className=\"option-label\">\n                  Color: <span className=\"selected-option\">{productGroup.colors[selectedColor]?.name}</span>\n                </label>\n                <div className=\"color-swatches\">\n                  {productGroup.colors.map((color, index) => (\n                    <button\n                      key={color.code}\n                      className={`color-swatch ${selectedColor === index ? 'active' : ''}`}\n                      style={{ backgroundColor: color.rgb }}\n                      onClick={() => {\n                        setSelectedColor(index);\n                        setSelectedSize('');\n                        setSelectedImageIndex(0);\n                      }}\n                      title={color.name}\n                    />\n                  ))}\n                </div>\n              </div>\n\n              {/* Size Selection */}\n              {availableSizes.length > 0 && (\n                <div className=\"option-group\">\n                  <label className=\"option-label\">Size:</label>\n                  <div className=\"size-options\">\n                    {availableSizes.map(size => (\n                      <button\n                        key={size.code}\n                        className={`size-option ${selectedSize === size.code ? 'active' : ''}`}\n                        onClick={() => setSelectedSize(size.code)}\n                      >\n                        {size.name}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Quantity */}\n              <div className=\"option-group\">\n                <label className=\"option-label\">Quantity:</label>\n                <div className=\"quantity-selector\">\n                  <button \n                    className=\"quantity-btn\"\n                    onClick={() => setQuantity(Math.max(1, quantity - 1))}\n                  >\n                    -\n                  </button>\n                  <span className=\"quantity-value\">{quantity}</span>\n                  <button \n                    className=\"quantity-btn\"\n                    onClick={() => setQuantity(quantity + 1)}\n                  >\n                    +\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            {/* Add to Cart */}\n            <div className=\"product-actions\">\n              <button \n                className=\"add-to-cart-btn\"\n                onClick={handleAddToCart}\n                disabled={availableSizes.length > 0 && !selectedSize}\n              >\n                Add to Cart\n              </button>\n              <div style={{ height: 12 }} />\n              <div style={{ display: 'flex', gap: 12 }}>\n                <button\n                  className=\"try-logo-btn\"\n                  onClick={() => setShowLogoModal(true)}\n                >\n                  Try your logo on this\n                </button>\n                {logoOverlay && (\n                  <button\n                    className=\"clear-btn\"\n                    onClick={() => setLogoOverlay(null)}\n                  >\n                    Remove logo\n                  </button>\n                )}\n              </div>\n            </div>\n\n            {/* Product Details */}\n            <div className=\"product-details-info\">\n              {currentVariant?.specification && (\n                <div className=\"detail-section\">\n                  <h3>Description</h3>\n                  <p>{currentVariant.specification}</p>\n                </div>\n              )}\n\n              {currentVariant?.fabric && (\n                <div className=\"detail-section\">\n                  <h3>Fabric</h3>\n                  <p>{currentVariant.fabric}</p>\n                </div>\n              )}\n\n              {currentVariant?.accreditations && (\n                <div className=\"detail-section\">\n                  <h3>Accreditations</h3>\n                  <p>{currentVariant.accreditations}</p>\n                </div>\n              )}\n\n              <div className=\"detail-section\">\n                <h3>Product Information</h3>\n                <ul>\n                  <li><strong>Brand:</strong> {productGroup.brand}</li>\n                  <li><strong>Type:</strong> {currentVariant?.product_type}</li>\n                  <li><strong>Gender:</strong> {currentVariant?.gender}</li>\n                  {currentVariant?.age_group && (\n                    <li><strong>Age Group:</strong> {currentVariant.age_group}</li>\n                  )}\n                  <li><strong>Size Range:</strong> {productGroup.size_range}</li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      {showLogoModal && (\n        <LogoCustomizerModal\n          isOpen={showLogoModal}\n          onClose={() => setShowLogoModal(false)}\n          onApply={(cfg, selectedColorIndex) => {\n            if (\n              typeof selectedColorIndex === 'number' && \n              selectedColorIndex >= 0 && \n              selectedColorIndex < productGroup.colors.length\n            ) {\n              setSelectedColor(selectedColorIndex);\n              setSelectedImageIndex(0);\n            }\n            handleApplyLogo(cfg);\n          }}\n          baseImageUrl={currentImages[selectedImageIndex]}\n          productColors={productGroup.colors}\n          initialColorIndex={selectedColor}\n          initialConfig={logoOverlay ?? undefined}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default ProductDetails;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}