{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{ArrowLeft,Heart,ShoppingCart,Check,ChevronRight}from'lucide-react';import{supabase}from'../lib/supabase';import{useCart,cartUtils}from'../contexts/CartContext';import{useWishlist}from'../contexts/WishlistContext';import{Button}from'../components/ui/button';import LogoCustomizerModal from'../components/LogoCustomizerModal';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProductDetailsNew=()=>{var _productGroup$colors$3,_productGroup$colors$5;const{styleCode}=useParams();const navigate=useNavigate();const[productGroup,setProductGroup]=useState(null);const[selectedColor,setSelectedColor]=useState(0);const[selectedSize,setSelectedSize]=useState('');const[selectedImageIndex,setSelectedImageIndex]=useState(0);const[quantity,setQuantity]=useState(1);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[showLogoModal,setShowLogoModal]=useState(false);const[logoOverlay,setLogoOverlay]=useState(null);const[addedToCart,setAddedToCart]=useState(false);const[activeTab,setActiveTab]=useState('overview');const{addToCart,isInCart}=useCart();const{toggleWishlist,isInWishlist}=useWishlist();useEffect(()=>{if(!styleCode)return;const fetchProduct=async()=>{try{setLoading(true);const{data,error}=await supabase.from('product_data').select('*').eq('style_code',styleCode);if(error)throw error;if(!data||data.length===0){setError('Product not found');return;}const variants=data;const colors=Array.from(new Set(variants.map(v=>v.colour_code))).map(code=>{const variant=variants.find(v=>v.colour_code===code);const colorName=variant.colour_name.toLowerCase();let displayColor=variant.rgb;// Map color names to appropriate colors\nif(colorName.includes('black'))displayColor='#000000';else if(colorName.includes('white'))displayColor='#ffffff';else if(colorName.includes('red'))displayColor='#dc3545';else if(colorName.includes('blue'))displayColor='#007bff';else if(colorName.includes('green'))displayColor='#28a745';else if(colorName.includes('yellow'))displayColor='#ffc107';else if(colorName.includes('grey')||colorName.includes('gray'))displayColor='#6c757d';else if(colorName.includes('navy'))displayColor='#001f3f';else if(!displayColor||displayColor==='Not available')displayColor='#cccccc';return{code,name:variant.colour_name,rgb:displayColor,image:variant.colour_image||variant.primary_product_image_url};});const prices=variants.map(v=>parseFloat(v.single_price)).filter(p=>!isNaN(p));const priceRange=prices.length>0?{min:Math.min(...prices),max:Math.max(...prices)}:undefined;setProductGroup({style_code:variants[0].style_code,style_name:variants[0].style_name,brand:variants[0].brand,variants,colors,size_range:variants[0].size_range,price_range:priceRange});const firstVariantColorIndex=colors.findIndex(color=>color.code===variants[0].colour_code);if(firstVariantColorIndex!==-1){setSelectedColor(firstVariantColorIndex);}}catch(err){console.error('Error fetching product:',err);setError('Failed to load product');}finally{setLoading(false);}};fetchProduct();},[styleCode]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-black flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-white text-lg\",children:\"Loading...\"})});}if(error||!productGroup){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-black flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-white text-2xl font-bold mb-4\",children:\"Product Not Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 mb-6\",children:error||'The product you are looking for does not exist.'}),/*#__PURE__*/_jsx(Button,{onClick:()=>navigate('/'),children:\"Return Home\"})]})});}const currentVariant=productGroup.variants.find(v=>{var _productGroup$colors$;return v.colour_code===((_productGroup$colors$=productGroup.colors[selectedColor])===null||_productGroup$colors$===void 0?void 0:_productGroup$colors$.code);})||productGroup.variants[0];const availableSizes=productGroup.variants.filter(v=>{var _productGroup$colors$2;return v.colour_code===((_productGroup$colors$2=productGroup.colors[selectedColor])===null||_productGroup$colors$2===void 0?void 0:_productGroup$colors$2.code);}).map(v=>({code:v.size_code,name:v.size_name})).filter((size,index,self)=>index===self.findIndex(s=>s.code===size.code));const currentImages=[((_productGroup$colors$3=productGroup.colors[selectedColor])===null||_productGroup$colors$3===void 0?void 0:_productGroup$colors$3.image)||(currentVariant===null||currentVariant===void 0?void 0:currentVariant.primary_product_image_url),currentVariant===null||currentVariant===void 0?void 0:currentVariant.colour_image,currentVariant===null||currentVariant===void 0?void 0:currentVariant.primary_product_image_url].filter((img,index,self)=>img&&img!=='Not available'&&self.indexOf(img)===index);const inCart=isInCart(productGroup.style_code);const inWishlist=isInWishlist(productGroup.style_code);const handleAddToCart=()=>{var _productGroup$colors$4;const productData={style_code:productGroup.style_code,style_name:productGroup.style_name,brand:productGroup.brand,product_type:currentVariant.product_type,gender:currentVariant.gender,categorisation:currentVariant.categorisation,primary_product_image_url:currentImages[selectedImageIndex],price_range:productGroup.price_range||{min:0,max:0},size_range:productGroup.size_range,colors:productGroup.colors.map(c=>({colour_code:c.code,colour_name:c.name,colour_image:c.image,rgb:c.rgb})),sizes:availableSizes.map(s=>s.name),variants:productGroup.variants};addToCart(productData,quantity,(_productGroup$colors$4=productGroup.colors[selectedColor])===null||_productGroup$colors$4===void 0?void 0:_productGroup$colors$4.name,selectedSize);setAddedToCart(true);setQuantity(1);setTimeout(()=>{setAddedToCart(false);},2000);};const handleWishlistToggle=()=>{const productData={style_code:productGroup.style_code,style_name:productGroup.style_name,brand:productGroup.brand,product_type:currentVariant.product_type,gender:currentVariant.gender,categorisation:currentVariant.categorisation,primary_product_image_url:currentImages[selectedImageIndex],price_range:productGroup.price_range||{min:0,max:0},size_range:productGroup.size_range,colors:productGroup.colors.map(c=>({colour_code:c.code,colour_name:c.name,colour_image:c.image,rgb:c.rgb})),sizes:availableSizes.map(s=>s.name),variants:productGroup.variants};toggleWishlist(productData);};const handleApplyLogo=config=>{setLogoOverlay(config);setShowLogoModal(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-black\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative min-h-screen\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-0\",children:[/*#__PURE__*/_jsx(\"img\",{src:currentImages[selectedImageIndex],alt:productGroup.style_name,className:\"w-full h-full object-cover\",onError:e=>{e.currentTarget.src=\"https://via.placeholder.com/1920x1080/1a1a1a/6da71d?text=\".concat(encodeURIComponent(productGroup.style_name.slice(0,2)));}}),logoOverlay&&/*#__PURE__*/_jsx(\"img\",{src:logoOverlay.src,alt:\"Applied logo\",className:\"absolute\",style:{left:\"\".concat(logoOverlay.x,\"%\"),top:\"\".concat(logoOverlay.y,\"%\"),width:\"\".concat(logoOverlay.sizePct,\"%\"),opacity:logoOverlay.opacity,transform:\"translate(-50%, -50%) rotate(\".concat(logoOverlay.rotation,\"deg)\")}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-b from-black/20 via-black/60 to-black\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(-1),className:\"absolute top-4 left-4 z-20 flex items-center gap-2 text-white/80 hover:text-white transition-colors bg-black/30 backdrop-blur-sm px-3 py-2 rounded-lg\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-5 h-5\"}),\"Back\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 left-0 right-0 z-10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4 md:px-8 lg:px-16 pb-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inline-flex items-center gap-3 bg-white/10 backdrop-blur-md rounded-full px-4 py-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-sm font-semibold\",children:productGroup.brand}),(currentVariant===null||currentVariant===void 0?void 0:currentVariant.sustainable_organic)==='Yes'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-white/50\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-sm\",children:\"\\u267B\\uFE0F Sustainable\"})]})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-5xl lg:text-6xl font-bold text-white\",children:productGroup.style_name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-5xl font-bold text-white\",children:productGroup.price_range&&cartUtils.formatPrice(productGroup.price_range.min)}),productGroup.price_range&&productGroup.price_range.min!==productGroup.price_range.max&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-2xl text-white/70\",children:[\"- \",cartUtils.formatPrice(productGroup.price_range.max)]})]}),currentImages.length>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-white\",children:\"Gallery\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-3 md:grid-cols-4 gap-3\",children:currentImages.map((image,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedImageIndex(index),className:\"aspect-square rounded-xl overflow-hidden transition-all \".concat(selectedImageIndex===index?'ring-4 ring-[#6da71d] ring-offset-4 ring-offset-black':'hover:opacity-75'),children:/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"\".concat(productGroup.style_name,\" \").concat(index+1),className:\"w-full h-full object-cover\",onError:e=>{e.currentTarget.src=\"https://via.placeholder.com/400x400/1a1a1a/6da71d?text=\".concat(index+1);}})},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2 bg-white/10 backdrop-blur-md rounded-lg p-1\",children:['overview','details','care'].map(tab=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(tab),className:\"flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all \".concat(activeTab===tab?'bg-white/20 text-white':'text-white/70 hover:text-white'),children:tab.charAt(0).toUpperCase()+tab.slice(1)},tab))}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/5 backdrop-blur-md rounded-lg p-6\",children:[activeTab==='overview'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-white/90 text-lg leading-relaxed\",children:(currentVariant===null||currentVariant===void 0?void 0:currentVariant.retail_description)||(currentVariant===null||currentVariant===void 0?void 0:currentVariant.specification)}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-3 text-white/80\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start gap-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0\",style:{background:'#6da71d'}}),\"Premium materials and construction\"]}),(currentVariant===null||currentVariant===void 0?void 0:currentVariant.fabric)&&/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start gap-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0\",style:{background:'#6da71d'}}),currentVariant.fabric]}),(currentVariant===null||currentVariant===void 0?void 0:currentVariant.accreditations)&&/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start gap-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0\",style:{background:'#6da71d'}}),\"Accredited: \",currentVariant.accreditations]})]})]}),activeTab==='details'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 text-white/80\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between py-2 border-b border-white/10\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Brand\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-white\",children:productGroup.brand})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between py-2 border-b border-white/10\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-white\",children:currentVariant===null||currentVariant===void 0?void 0:currentVariant.product_type})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between py-2 border-b border-white/10\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Gender\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-white\",children:currentVariant===null||currentVariant===void 0?void 0:currentVariant.gender})]}),(currentVariant===null||currentVariant===void 0?void 0:currentVariant.age_group)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between py-2 border-b border-white/10\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Age Group\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-white\",children:currentVariant.age_group})]})]}),activeTab==='care'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 text-white/80\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"To maintain the quality of your product:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start gap-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0\",style:{background:'#6da71d'}}),\"Follow care label instructions\"]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start gap-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0\",style:{background:'#6da71d'}}),\"Wash similar colors together\"]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start gap-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0\",style:{background:'#6da71d'}}),\"Store in a cool, dry place\"]})]})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/10 backdrop-blur-xl rounded-2xl p-5 border border-white/20 space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-white\",children:\"Select Options\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"text-sm font-medium text-white\",children:[\"Color: \",/*#__PURE__*/_jsx(\"span\",{className:\"text-white/70\",children:(_productGroup$colors$5=productGroup.colors[selectedColor])===null||_productGroup$colors$5===void 0?void 0:_productGroup$colors$5.name})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-3\",children:productGroup.colors.filter(c=>c.rgb).map((color,index)=>/*#__PURE__*/_jsx(\"button\",{className:\"w-12 h-12 rounded-full border-2 transition-all \".concat(selectedColor===index?'border-white ring-2 ring-white/50 ring-offset-2 ring-offset-black scale-110':'border-white/30 hover:border-white/60'),style:{backgroundColor:color.rgb},onClick:()=>{const actualIndex=productGroup.colors.findIndex(c=>c.code===color.code);setSelectedColor(actualIndex);setSelectedSize('');setSelectedImageIndex(0);},title:color.name},color.code))})]}),availableSizes.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-white\",children:\"Size\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-3 gap-2\",children:availableSizes.map(size=>/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 rounded-lg border text-sm font-medium transition-all \".concat(selectedSize===size.code?'border-white bg-white/20 text-white':'border-white/30 text-white/70 hover:bg-white/10'),onClick:()=>setSelectedSize(size.code),children:size.name},size.code))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-white\",children:\"Quantity\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setQuantity(Math.max(1,quantity-1)),className:\"w-10 h-10 rounded-lg bg-white/10 hover:bg-white/20 text-white font-semibold transition-all\",children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{className:\"flex-1 text-center text-white font-semibold\",children:quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setQuantity(quantity+1),className:\"w-10 h-10 rounded-lg bg-white/10 hover:bg-white/20 text-white font-semibold transition-all\",children:\"+\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-white/10 pt-4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(Button,{onClick:handleAddToCart,disabled:availableSizes.length>0&&!selectedSize,className:\"w-full h-12 text-base font-semibold rounded-xl transition-all \".concat(addedToCart?'bg-green-600 hover:bg-green-700 text-white':inCart?'bg-green-600 hover:bg-green-700 text-white':'text-white'),style:{background:addedToCart||inCart?undefined:'#6da71d'},children:addedToCart?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Check,{className:\"w-5 h-5 mr-2\"}),\"Added to Cart!\"]}):inCart?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Check,{className:\"w-5 h-5 mr-2\"}),\"In Cart\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ShoppingCart,{className:\"w-5 h-5 mr-2\"}),\"Add to Cart\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowLogoModal(true),className:\"w-full h-10 text-sm font-semibold rounded-xl border-2 border-white/30 bg-transparent text-white hover:bg-white/10 transition-all\",children:\"Try Your Logo\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleWishlistToggle,className:\"w-full h-10 text-sm font-semibold rounded-xl border-2 border-white/30 bg-transparent text-white hover:bg-white/10 transition-all flex items-center justify-center\",children:[/*#__PURE__*/_jsx(Heart,{className:\"w-4 h-4 mr-1 \".concat(inWishlist?'fill-current':'')}),inWishlist?'Saved':'Save']})]}),logoOverlay&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setLogoOverlay(null),className:\"w-full h-10 text-sm font-semibold rounded-xl border-2 border-red-400/50 bg-transparent text-red-300 hover:bg-red-900/20 transition-all\",children:\"Remove Logo\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-white/10 pt-4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"w-full flex items-center justify-between py-3 text-white hover:opacity-80 transition-opacity\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-sm\",children:\"Shipping Information\"}),/*#__PURE__*/_jsx(ChevronRight,{className:\"w-5 h-5\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-white/10\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"w-full flex items-center justify-between py-3 text-white hover:opacity-80 transition-opacity\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-sm\",children:\"Return Policy\"}),/*#__PURE__*/_jsx(ChevronRight,{className:\"w-5 h-5\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-white/10\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"w-full flex items-center justify-between py-3 text-white hover:opacity-80 transition-opacity\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-sm\",children:\"Size Guide\"}),/*#__PURE__*/_jsx(ChevronRight,{className:\"w-5 h-5\"})]})]})]})})]})})})]}),showLogoModal&&/*#__PURE__*/_jsx(LogoCustomizerModal,{isOpen:showLogoModal,onClose:()=>setShowLogoModal(false),onApply:(cfg,selectedColorIndex)=>{if(typeof selectedColorIndex==='number'&&selectedColorIndex>=0&&selectedColorIndex<productGroup.colors.length){setSelectedColor(selectedColorIndex);setSelectedImageIndex(0);}handleApplyLogo(cfg);},baseImageUrl:currentImages[selectedImageIndex],productColors:productGroup.colors,initialColorIndex:selectedColor,initialConfig:logoOverlay!==null&&logoOverlay!==void 0?logoOverlay:undefined})]});};export default ProductDetailsNew;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","ArrowLeft","Heart","ShoppingCart","Check","ChevronRight","supabase","useCart","cartUtils","useWishlist","Button","LogoCustomizerModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductDetailsNew","_productGroup$colors$3","_productGroup$colors$5","styleCode","navigate","productGroup","setProductGroup","selectedColor","setSelectedColor","selectedSize","setSelectedSize","selectedImageIndex","setSelectedImageIndex","quantity","setQuantity","loading","setLoading","error","setError","showLogoModal","setShowLogoModal","logoOverlay","setLogoOverlay","addedToCart","setAddedToCart","activeTab","setActiveTab","addToCart","isInCart","toggleWishlist","isInWishlist","fetchProduct","data","from","select","eq","length","variants","colors","Array","Set","map","v","colour_code","code","variant","find","colorName","colour_name","toLowerCase","displayColor","rgb","includes","name","image","colour_image","primary_product_image_url","prices","parseFloat","single_price","filter","p","isNaN","priceRange","min","Math","max","undefined","style_code","style_name","brand","size_range","price_range","firstVariantColorIndex","findIndex","color","err","console","className","children","onClick","currentVariant","_productGroup$colors$","availableSizes","_productGroup$colors$2","size_code","size_name","size","index","self","s","currentImages","img","indexOf","inCart","inWishlist","handleAddToCart","_productGroup$colors$4","productData","product_type","gender","categorisation","c","sizes","setTimeout","handleWishlistToggle","handleApplyLogo","config","src","alt","onError","e","currentTarget","concat","encodeURIComponent","slice","style","left","x","top","y","width","sizePct","opacity","transform","rotation","sustainable_organic","formatPrice","tab","charAt","toUpperCase","retail_description","specification","background","fabric","accreditations","age_group","backgroundColor","actualIndex","title","disabled","isOpen","onClose","onApply","cfg","selectedColorIndex","baseImageUrl","productColors","initialColorIndex","initialConfig"],"sources":["/home/alastair/Desktop/outpost-custom/outpost-custom/src/pages/ProductDetailsNew.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { ArrowLeft, Heart, ShoppingCart, Check, ChevronRight } from 'lucide-react';\nimport { Product } from '../lib/supabase';\nimport { supabase } from '../lib/supabase';\nimport { useCart, cartUtils } from '../contexts/CartContext';\nimport { useWishlist } from '../contexts/WishlistContext';\nimport { Button } from '../components/ui/button';\nimport LogoCustomizerModal, { LogoOverlayConfig } from '../components/LogoCustomizerModal';\n\ninterface ProductGroup {\n  style_code: string;\n  style_name: string;\n  brand: string;\n  variants: Product[];\n  colors: Array<{\n    code: string;\n    name: string;\n    rgb: string;\n    image: string;\n  }>;\n  size_range: string;\n  price_range?: { min: number; max: number };\n}\n\nconst ProductDetailsNew: React.FC = () => {\n  const { styleCode } = useParams<{ styleCode: string }>();\n  const navigate = useNavigate();\n  const [productGroup, setProductGroup] = useState<ProductGroup | null>(null);\n  const [selectedColor, setSelectedColor] = useState(0);\n  const [selectedSize, setSelectedSize] = useState<string>('');\n  const [selectedImageIndex, setSelectedImageIndex] = useState(0);\n  const [quantity, setQuantity] = useState(1);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [showLogoModal, setShowLogoModal] = useState(false);\n  const [logoOverlay, setLogoOverlay] = useState<LogoOverlayConfig | null>(null);\n  const [addedToCart, setAddedToCart] = useState(false);\n  const [activeTab, setActiveTab] = useState<'overview' | 'details' | 'care'>('overview');\n\n  const { addToCart, isInCart } = useCart();\n  const { toggleWishlist, isInWishlist } = useWishlist();\n\n  useEffect(() => {\n    if (!styleCode) return;\n\n    const fetchProduct = async () => {\n      try {\n        setLoading(true);\n        const { data, error } = await supabase\n          .from('product_data')\n          .select('*')\n          .eq('style_code', styleCode);\n\n        if (error) throw error;\n        if (!data || data.length === 0) {\n          setError('Product not found');\n          return;\n        }\n\n        const variants = data as Product[];\n        const colors = Array.from(new Set(variants.map(v => v.colour_code)))\n          .map(code => {\n            const variant = variants.find(v => v.colour_code === code)!;\n            const colorName = variant.colour_name.toLowerCase();\n            let displayColor = variant.rgb;\n\n            // Map color names to appropriate colors\n            if (colorName.includes('black')) displayColor = '#000000';\n            else if (colorName.includes('white')) displayColor = '#ffffff';\n            else if (colorName.includes('red')) displayColor = '#dc3545';\n            else if (colorName.includes('blue')) displayColor = '#007bff';\n            else if (colorName.includes('green')) displayColor = '#28a745';\n            else if (colorName.includes('yellow')) displayColor = '#ffc107';\n            else if (colorName.includes('grey') || colorName.includes('gray')) displayColor = '#6c757d';\n            else if (colorName.includes('navy')) displayColor = '#001f3f';\n            else if (!displayColor || displayColor === 'Not available') displayColor = '#cccccc';\n\n            return {\n              code,\n              name: variant.colour_name,\n              rgb: displayColor,\n              image: variant.colour_image || variant.primary_product_image_url\n            };\n          });\n\n        const prices = variants\n          .map(v => parseFloat(v.single_price))\n          .filter(p => !isNaN(p));\n\n        const priceRange = prices.length > 0 ? {\n          min: Math.min(...prices),\n          max: Math.max(...prices)\n        } : undefined;\n\n        setProductGroup({\n          style_code: variants[0].style_code,\n          style_name: variants[0].style_name,\n          brand: variants[0].brand,\n          variants,\n          colors,\n          size_range: variants[0].size_range,\n          price_range: priceRange\n        });\n\n        const firstVariantColorIndex = colors.findIndex(color =>\n          color.code === variants[0].colour_code\n        );\n        if (firstVariantColorIndex !== -1) {\n          setSelectedColor(firstVariantColorIndex);\n        }\n      } catch (err) {\n        console.error('Error fetching product:', err);\n        setError('Failed to load product');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchProduct();\n  }, [styleCode]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-black flex items-center justify-center\">\n        <div className=\"text-white text-lg\">Loading...</div>\n      </div>\n    );\n  }\n\n  if (error || !productGroup) {\n    return (\n      <div className=\"min-h-screen bg-black flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h1 className=\"text-white text-2xl font-bold mb-4\">Product Not Found</h1>\n          <p className=\"text-gray-400 mb-6\">{error || 'The product you are looking for does not exist.'}</p>\n          <Button onClick={() => navigate('/')}>Return Home</Button>\n        </div>\n      </div>\n    );\n  }\n\n  const currentVariant = productGroup.variants.find(v =>\n    v.colour_code === productGroup.colors[selectedColor]?.code\n  ) || productGroup.variants[0];\n\n  const availableSizes = productGroup.variants\n    .filter(v => v.colour_code === productGroup.colors[selectedColor]?.code)\n    .map(v => ({ code: v.size_code, name: v.size_name }))\n    .filter((size, index, self) =>\n      index === self.findIndex(s => s.code === size.code)\n    );\n\n  const currentImages = [\n    productGroup.colors[selectedColor]?.image || currentVariant?.primary_product_image_url,\n    currentVariant?.colour_image,\n    currentVariant?.primary_product_image_url\n  ].filter((img, index, self) =>\n    img && img !== 'Not available' && self.indexOf(img) === index\n  );\n\n  const inCart = isInCart(productGroup.style_code);\n  const inWishlist = isInWishlist(productGroup.style_code);\n\n  const handleAddToCart = () => {\n    const productData = {\n      style_code: productGroup.style_code,\n      style_name: productGroup.style_name,\n      brand: productGroup.brand,\n      product_type: currentVariant.product_type,\n      gender: currentVariant.gender,\n      categorisation: currentVariant.categorisation,\n      primary_product_image_url: currentImages[selectedImageIndex],\n      price_range: productGroup.price_range || { min: 0, max: 0 },\n      size_range: productGroup.size_range,\n      colors: productGroup.colors.map(c => ({\n        colour_code: c.code,\n        colour_name: c.name,\n        colour_image: c.image,\n        rgb: c.rgb,\n      })),\n      sizes: availableSizes.map(s => s.name),\n      variants: productGroup.variants,\n    };\n\n    addToCart(productData, quantity, productGroup.colors[selectedColor]?.name, selectedSize);\n    setAddedToCart(true);\n    setQuantity(1);\n\n    setTimeout(() => {\n      setAddedToCart(false);\n    }, 2000);\n  };\n\n  const handleWishlistToggle = () => {\n    const productData = {\n      style_code: productGroup.style_code,\n      style_name: productGroup.style_name,\n      brand: productGroup.brand,\n      product_type: currentVariant.product_type,\n      gender: currentVariant.gender,\n      categorisation: currentVariant.categorisation,\n      primary_product_image_url: currentImages[selectedImageIndex],\n      price_range: productGroup.price_range || { min: 0, max: 0 },\n      size_range: productGroup.size_range,\n      colors: productGroup.colors.map(c => ({\n        colour_code: c.code,\n        colour_name: c.name,\n        colour_image: c.image,\n        rgb: c.rgb,\n      })),\n      sizes: availableSizes.map(s => s.name),\n      variants: productGroup.variants,\n    };\n    toggleWishlist(productData);\n  };\n\n  const handleApplyLogo = (config: LogoOverlayConfig) => {\n    setLogoOverlay(config);\n    setShowLogoModal(false);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-black\">\n      {/* Hero Section with Full-Page Image */}\n      <div className=\"relative min-h-screen\">\n        {/* Background Image */}\n        <div className=\"absolute inset-0\">\n          <img\n            src={currentImages[selectedImageIndex]}\n            alt={productGroup.style_name}\n            className=\"w-full h-full object-cover\"\n            onError={(e) => {\n              e.currentTarget.src = `https://via.placeholder.com/1920x1080/1a1a1a/6da71d?text=${encodeURIComponent(productGroup.style_name.slice(0, 2))}`;\n            }}\n          />\n          {/* Logo Overlay */}\n          {logoOverlay && (\n            <img\n              src={logoOverlay.src}\n              alt=\"Applied logo\"\n              className=\"absolute\"\n              style={{\n                left: `${logoOverlay.x}%`,\n                top: `${logoOverlay.y}%`,\n                width: `${logoOverlay.sizePct}%`,\n                opacity: logoOverlay.opacity,\n                transform: `translate(-50%, -50%) rotate(${logoOverlay.rotation}deg)`\n              }}\n            />\n          )}\n          {/* Gradient Overlay */}\n          <div className=\"absolute inset-0 bg-gradient-to-b from-black/20 via-black/60 to-black\" />\n        </div>\n\n        {/* Back Button */}\n        <button\n          onClick={() => navigate(-1)}\n          className=\"absolute top-4 left-4 z-20 flex items-center gap-2 text-white/80 hover:text-white transition-colors bg-black/30 backdrop-blur-sm px-3 py-2 rounded-lg\"\n        >\n          <ArrowLeft className=\"w-5 h-5\" />\n          Back\n        </button>\n\n        {/* Product Information - Overlaid at bottom */}\n        <div className=\"absolute bottom-0 left-0 right-0 z-10\">\n          <div className=\"container mx-auto px-4 md:px-8 lg:px-16 pb-10\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n              {/* Left Column - Product Info */}\n              <div className=\"lg:col-span-2 space-y-4\">\n                {/* Brand Badge */}\n                <div className=\"inline-flex items-center gap-3 bg-white/10 backdrop-blur-md rounded-full px-4 py-2\">\n                  <span className=\"text-white text-sm font-semibold\">{productGroup.brand}</span>\n                  {currentVariant?.sustainable_organic === 'Yes' && (\n                    <>\n                      <span className=\"text-white/50\">•</span>\n                      <span className=\"text-white text-sm\">♻️ Sustainable</span>\n                    </>\n                  )}\n                </div>\n\n                {/* Product Name */}\n                <h1 className=\"text-5xl lg:text-6xl font-bold text-white\">\n                  {productGroup.style_name}\n                </h1>\n\n                {/* Pricing */}\n                <div className=\"flex items-center gap-4\">\n                  <span className=\"text-5xl font-bold text-white\">\n                    {productGroup.price_range && cartUtils.formatPrice(productGroup.price_range.min)}\n                  </span>\n                  {productGroup.price_range && productGroup.price_range.min !== productGroup.price_range.max && (\n                    <span className=\"text-2xl text-white/70\">\n                      - {cartUtils.formatPrice(productGroup.price_range.max)}\n                    </span>\n                  )}\n                </div>\n\n                {/* Image Gallery */}\n                {currentImages.length > 1 && (\n                  <div className=\"space-y-3\">\n                    <h3 className=\"text-lg font-bold text-white\">Gallery</h3>\n                    <div className=\"grid grid-cols-3 md:grid-cols-4 gap-3\">\n                      {currentImages.map((image, index) => (\n                        <button\n                          key={index}\n                          onClick={() => setSelectedImageIndex(index)}\n                          className={`aspect-square rounded-xl overflow-hidden transition-all ${selectedImageIndex === index\n                            ? 'ring-4 ring-[#6da71d] ring-offset-4 ring-offset-black'\n                            : 'hover:opacity-75'\n                            }`}\n                        >\n                          <img\n                            src={image}\n                            alt={`${productGroup.style_name} ${index + 1}`}\n                            className=\"w-full h-full object-cover\"\n                            onError={(e) => {\n                              e.currentTarget.src = `https://via.placeholder.com/400x400/1a1a1a/6da71d?text=${index + 1}`;\n                            }}\n                          />\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/* Tabs */}\n                <div className=\"space-y-4\">\n                  <div className=\"flex gap-2 bg-white/10 backdrop-blur-md rounded-lg p-1\">\n                    {['overview', 'details', 'care'].map((tab) => (\n                      <button\n                        key={tab}\n                        onClick={() => setActiveTab(tab as any)}\n                        className={`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all ${activeTab === tab\n                          ? 'bg-white/20 text-white'\n                          : 'text-white/70 hover:text-white'\n                          }`}\n                      >\n                        {tab.charAt(0).toUpperCase() + tab.slice(1)}\n                      </button>\n                    ))}\n                  </div>\n\n                  <div className=\"bg-white/5 backdrop-blur-md rounded-lg p-6\">\n                    {activeTab === 'overview' && (\n                      <div className=\"space-y-4\">\n                        <p className=\"text-white/90 text-lg leading-relaxed\">\n                          {currentVariant?.retail_description || currentVariant?.specification}\n                        </p>\n                        <ul className=\"space-y-3 text-white/80\">\n                          <li className=\"flex items-start gap-3\">\n                            <span className=\"w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0\" style={{ background: '#6da71d' }} />\n                            Premium materials and construction\n                          </li>\n                          {currentVariant?.fabric && (\n                            <li className=\"flex items-start gap-3\">\n                              <span className=\"w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0\" style={{ background: '#6da71d' }} />\n                              {currentVariant.fabric}\n                            </li>\n                          )}\n                          {currentVariant?.accreditations && (\n                            <li className=\"flex items-start gap-3\">\n                              <span className=\"w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0\" style={{ background: '#6da71d' }} />\n                              Accredited: {currentVariant.accreditations}\n                            </li>\n                          )}\n                        </ul>\n                      </div>\n                    )}\n                    {activeTab === 'details' && (\n                      <div className=\"space-y-3 text-white/80\">\n                        <div className=\"flex justify-between py-2 border-b border-white/10\">\n                          <span>Brand</span>\n                          <span className=\"font-semibold text-white\">{productGroup.brand}</span>\n                        </div>\n                        <div className=\"flex justify-between py-2 border-b border-white/10\">\n                          <span>Type</span>\n                          <span className=\"font-semibold text-white\">{currentVariant?.product_type}</span>\n                        </div>\n                        <div className=\"flex justify-between py-2 border-b border-white/10\">\n                          <span>Gender</span>\n                          <span className=\"font-semibold text-white\">{currentVariant?.gender}</span>\n                        </div>\n                        {currentVariant?.age_group && (\n                          <div className=\"flex justify-between py-2 border-b border-white/10\">\n                            <span>Age Group</span>\n                            <span className=\"font-semibold text-white\">{currentVariant.age_group}</span>\n                          </div>\n                        )}\n                      </div>\n                    )}\n                    {activeTab === 'care' && (\n                      <div className=\"space-y-3 text-white/80\">\n                        <p>To maintain the quality of your product:</p>\n                        <ul className=\"space-y-2\">\n                          <li className=\"flex items-start gap-3\">\n                            <span className=\"w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0\" style={{ background: '#6da71d' }} />\n                            Follow care label instructions\n                          </li>\n                          <li className=\"flex items-start gap-3\">\n                            <span className=\"w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0\" style={{ background: '#6da71d' }} />\n                            Wash similar colors together\n                          </li>\n                          <li className=\"flex items-start gap-3\">\n                            <span className=\"w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0\" style={{ background: '#6da71d' }} />\n                            Store in a cool, dry place\n                          </li>\n                        </ul>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              {/* Right Column - Select Options */}\n              <div className=\"lg:col-span-1\">\n                <div className=\"bg-white/10 backdrop-blur-xl rounded-2xl p-5 border border-white/20 space-y-4\">\n                  <h3 className=\"text-lg font-bold text-white\">\n                    Select Options\n                  </h3>\n\n                  {/* Color Selection */}\n                  <div className=\"space-y-2\">\n                    <label className=\"text-sm font-medium text-white\">\n                      Color: <span className=\"text-white/70\">{productGroup.colors[selectedColor]?.name}</span>\n                    </label>\n                    <div className=\"flex flex-wrap gap-3\">\n                      {productGroup.colors.filter(c => c.rgb).map((color, index) => (\n                        <button\n                          key={color.code}\n                          className={`w-12 h-12 rounded-full border-2 transition-all ${selectedColor === index\n                            ? 'border-white ring-2 ring-white/50 ring-offset-2 ring-offset-black scale-110'\n                            : 'border-white/30 hover:border-white/60'\n                            }`}\n                          style={{ backgroundColor: color.rgb }}\n                          onClick={() => {\n                            const actualIndex = productGroup.colors.findIndex(c => c.code === color.code);\n                            setSelectedColor(actualIndex);\n                            setSelectedSize('');\n                            setSelectedImageIndex(0);\n                          }}\n                          title={color.name}\n                        />\n                      ))}\n                    </div>\n                  </div>\n\n                  {/* Size Selection */}\n                  {availableSizes.length > 0 && (\n                    <div className=\"space-y-2\">\n                      <label className=\"text-sm font-medium text-white\">Size</label>\n                      <div className=\"grid grid-cols-3 gap-2\">\n                        {availableSizes.map(size => (\n                          <button\n                            key={size.code}\n                            className={`px-4 py-2 rounded-lg border text-sm font-medium transition-all ${selectedSize === size.code\n                              ? 'border-white bg-white/20 text-white'\n                              : 'border-white/30 text-white/70 hover:bg-white/10'\n                              }`}\n                            onClick={() => setSelectedSize(size.code)}\n                          >\n                            {size.name}\n                          </button>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Quantity */}\n                  <div className=\"space-y-3\">\n                    <label className=\"text-sm font-medium text-white\">Quantity</label>\n                    <div className=\"flex items-center gap-3\">\n                      <button\n                        onClick={() => setQuantity(Math.max(1, quantity - 1))}\n                        className=\"w-10 h-10 rounded-lg bg-white/10 hover:bg-white/20 text-white font-semibold transition-all\"\n                      >\n                        -\n                      </button>\n                      <span className=\"flex-1 text-center text-white font-semibold\">{quantity}</span>\n                      <button\n                        onClick={() => setQuantity(quantity + 1)}\n                        className=\"w-10 h-10 rounded-lg bg-white/10 hover:bg-white/20 text-white font-semibold transition-all\"\n                      >\n                        +\n                      </button>\n                    </div>\n                  </div>\n\n                  <div className=\"border-t border-white/10 pt-4\"></div>\n\n                  {/* Action Buttons */}\n                  <div className=\"space-y-3\">\n                    <Button\n                      onClick={handleAddToCart}\n                      disabled={availableSizes.length > 0 && !selectedSize}\n                      className={`w-full h-12 text-base font-semibold rounded-xl transition-all ${addedToCart\n                        ? 'bg-green-600 hover:bg-green-700 text-white'\n                        : inCart\n                          ? 'bg-green-600 hover:bg-green-700 text-white'\n                          : 'text-white'\n                        }`}\n                      style={{ background: addedToCart || inCart ? undefined : '#6da71d' }}\n                    >\n                      {addedToCart ? (\n                        <>\n                          <Check className=\"w-5 h-5 mr-2\" />\n                          Added to Cart!\n                        </>\n                      ) : inCart ? (\n                        <>\n                          <Check className=\"w-5 h-5 mr-2\" />\n                          In Cart\n                        </>\n                      ) : (\n                        <>\n                          <ShoppingCart className=\"w-5 h-5 mr-2\" />\n                          Add to Cart\n                        </>\n                      )}\n                    </Button>\n\n                    <div className=\"grid grid-cols-2 gap-2\">\n                      <button\n                        onClick={() => setShowLogoModal(true)}\n                        className=\"w-full h-10 text-sm font-semibold rounded-xl border-2 border-white/30 bg-transparent text-white hover:bg-white/10 transition-all\"\n                      >\n                        Try Your Logo\n                      </button>\n                      <button\n                        onClick={handleWishlistToggle}\n                        className=\"w-full h-10 text-sm font-semibold rounded-xl border-2 border-white/30 bg-transparent text-white hover:bg-white/10 transition-all flex items-center justify-center\"\n                      >\n                        <Heart className={`w-4 h-4 mr-1 ${inWishlist ? 'fill-current' : ''}`} />\n                        {inWishlist ? 'Saved' : 'Save'}\n                      </button>\n                    </div>\n\n                    {logoOverlay && (\n                      <button\n                        onClick={() => setLogoOverlay(null)}\n                        className=\"w-full h-10 text-sm font-semibold rounded-xl border-2 border-red-400/50 bg-transparent text-red-300 hover:bg-red-900/20 transition-all\"\n                      >\n                        Remove Logo\n                      </button>\n                    )}\n                  </div>\n\n                  <div className=\"border-t border-white/10 pt-4\"></div>\n\n                  {/* Expandable Information */}\n                  <div className=\"space-y-2\">\n                    <button className=\"w-full flex items-center justify-between py-3 text-white hover:opacity-80 transition-opacity\">\n                      <span className=\"font-medium text-sm\">Shipping Information</span>\n                      <ChevronRight className=\"w-5 h-5\" />\n                    </button>\n                    <div className=\"border-t border-white/10\"></div>\n                    <button className=\"w-full flex items-center justify-between py-3 text-white hover:opacity-80 transition-opacity\">\n                      <span className=\"font-medium text-sm\">Return Policy</span>\n                      <ChevronRight className=\"w-5 h-5\" />\n                    </button>\n                    <div className=\"border-t border-white/10\"></div>\n                    <button className=\"w-full flex items-center justify-between py-3 text-white hover:opacity-80 transition-opacity\">\n                      <span className=\"font-medium text-sm\">Size Guide</span>\n                      <ChevronRight className=\"w-5 h-5\" />\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Logo Customizer Modal */}\n      {showLogoModal && (\n        <LogoCustomizerModal\n          isOpen={showLogoModal}\n          onClose={() => setShowLogoModal(false)}\n          onApply={(cfg, selectedColorIndex) => {\n            if (\n              typeof selectedColorIndex === 'number' &&\n              selectedColorIndex >= 0 &&\n              selectedColorIndex < productGroup.colors.length\n            ) {\n              setSelectedColor(selectedColorIndex);\n              setSelectedImageIndex(0);\n            }\n            handleApplyLogo(cfg);\n          }}\n          baseImageUrl={currentImages[selectedImageIndex]}\n          productColors={productGroup.colors}\n          initialColorIndex={selectedColor}\n          initialConfig={logoOverlay ?? undefined}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default ProductDetailsNew;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,OAASC,SAAS,CAAEC,KAAK,CAAEC,YAAY,CAAEC,KAAK,CAAEC,YAAY,KAAQ,cAAc,CAElF,OAASC,QAAQ,KAAQ,iBAAiB,CAC1C,OAASC,OAAO,CAAEC,SAAS,KAAQ,yBAAyB,CAC5D,OAASC,WAAW,KAAQ,6BAA6B,CACzD,OAASC,MAAM,KAAQ,yBAAyB,CAChD,MAAO,CAAAC,mBAAmB,KAA6B,mCAAmC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAiB3F,KAAM,CAAAC,iBAA2B,CAAGA,CAAA,GAAM,KAAAC,sBAAA,CAAAC,sBAAA,CACxC,KAAM,CAAEC,SAAU,CAAC,CAAGtB,SAAS,CAAwB,CAAC,CACxD,KAAM,CAAAuB,QAAQ,CAAGtB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACuB,YAAY,CAAEC,eAAe,CAAC,CAAG3B,QAAQ,CAAsB,IAAI,CAAC,CAC3E,KAAM,CAAC4B,aAAa,CAAEC,gBAAgB,CAAC,CAAG7B,QAAQ,CAAC,CAAC,CAAC,CACrD,KAAM,CAAC8B,YAAY,CAAEC,eAAe,CAAC,CAAG/B,QAAQ,CAAS,EAAE,CAAC,CAC5D,KAAM,CAACgC,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGjC,QAAQ,CAAC,CAAC,CAAC,CAC/D,KAAM,CAACkC,QAAQ,CAAEC,WAAW,CAAC,CAAGnC,QAAQ,CAAC,CAAC,CAAC,CAC3C,KAAM,CAACoC,OAAO,CAAEC,UAAU,CAAC,CAAGrC,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACsC,KAAK,CAAEC,QAAQ,CAAC,CAAGvC,QAAQ,CAAgB,IAAI,CAAC,CACvD,KAAM,CAACwC,aAAa,CAAEC,gBAAgB,CAAC,CAAGzC,QAAQ,CAAC,KAAK,CAAC,CACzD,KAAM,CAAC0C,WAAW,CAAEC,cAAc,CAAC,CAAG3C,QAAQ,CAA2B,IAAI,CAAC,CAC9E,KAAM,CAAC4C,WAAW,CAAEC,cAAc,CAAC,CAAG7C,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAAC8C,SAAS,CAAEC,YAAY,CAAC,CAAG/C,QAAQ,CAAkC,UAAU,CAAC,CAEvF,KAAM,CAAEgD,SAAS,CAAEC,QAAS,CAAC,CAAGvC,OAAO,CAAC,CAAC,CACzC,KAAM,CAAEwC,cAAc,CAAEC,YAAa,CAAC,CAAGvC,WAAW,CAAC,CAAC,CAEtDX,SAAS,CAAC,IAAM,CACd,GAAI,CAACuB,SAAS,CAAE,OAEhB,KAAM,CAAA4B,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACFf,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAEgB,IAAI,CAAEf,KAAM,CAAC,CAAG,KAAM,CAAA7B,QAAQ,CACnC6C,IAAI,CAAC,cAAc,CAAC,CACpBC,MAAM,CAAC,GAAG,CAAC,CACXC,EAAE,CAAC,YAAY,CAAEhC,SAAS,CAAC,CAE9B,GAAIc,KAAK,CAAE,KAAM,CAAAA,KAAK,CACtB,GAAI,CAACe,IAAI,EAAIA,IAAI,CAACI,MAAM,GAAK,CAAC,CAAE,CAC9BlB,QAAQ,CAAC,mBAAmB,CAAC,CAC7B,OACF,CAEA,KAAM,CAAAmB,QAAQ,CAAGL,IAAiB,CAClC,KAAM,CAAAM,MAAM,CAAGC,KAAK,CAACN,IAAI,CAAC,GAAI,CAAAO,GAAG,CAACH,QAAQ,CAACI,GAAG,CAACC,CAAC,EAAIA,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC,CACjEF,GAAG,CAACG,IAAI,EAAI,CACX,KAAM,CAAAC,OAAO,CAAGR,QAAQ,CAACS,IAAI,CAACJ,CAAC,EAAIA,CAAC,CAACC,WAAW,GAAKC,IAAI,CAAE,CAC3D,KAAM,CAAAG,SAAS,CAAGF,OAAO,CAACG,WAAW,CAACC,WAAW,CAAC,CAAC,CACnD,GAAI,CAAAC,YAAY,CAAGL,OAAO,CAACM,GAAG,CAE9B;AACA,GAAIJ,SAAS,CAACK,QAAQ,CAAC,OAAO,CAAC,CAAEF,YAAY,CAAG,SAAS,CAAC,IACrD,IAAIH,SAAS,CAACK,QAAQ,CAAC,OAAO,CAAC,CAAEF,YAAY,CAAG,SAAS,CAAC,IAC1D,IAAIH,SAAS,CAACK,QAAQ,CAAC,KAAK,CAAC,CAAEF,YAAY,CAAG,SAAS,CAAC,IACxD,IAAIH,SAAS,CAACK,QAAQ,CAAC,MAAM,CAAC,CAAEF,YAAY,CAAG,SAAS,CAAC,IACzD,IAAIH,SAAS,CAACK,QAAQ,CAAC,OAAO,CAAC,CAAEF,YAAY,CAAG,SAAS,CAAC,IAC1D,IAAIH,SAAS,CAACK,QAAQ,CAAC,QAAQ,CAAC,CAAEF,YAAY,CAAG,SAAS,CAAC,IAC3D,IAAIH,SAAS,CAACK,QAAQ,CAAC,MAAM,CAAC,EAAIL,SAAS,CAACK,QAAQ,CAAC,MAAM,CAAC,CAAEF,YAAY,CAAG,SAAS,CAAC,IACvF,IAAIH,SAAS,CAACK,QAAQ,CAAC,MAAM,CAAC,CAAEF,YAAY,CAAG,SAAS,CAAC,IACzD,IAAI,CAACA,YAAY,EAAIA,YAAY,GAAK,eAAe,CAAEA,YAAY,CAAG,SAAS,CAEpF,MAAO,CACLN,IAAI,CACJS,IAAI,CAAER,OAAO,CAACG,WAAW,CACzBG,GAAG,CAAED,YAAY,CACjBI,KAAK,CAAET,OAAO,CAACU,YAAY,EAAIV,OAAO,CAACW,yBACzC,CAAC,CACH,CAAC,CAAC,CAEJ,KAAM,CAAAC,MAAM,CAAGpB,QAAQ,CACpBI,GAAG,CAACC,CAAC,EAAIgB,UAAU,CAAChB,CAAC,CAACiB,YAAY,CAAC,CAAC,CACpCC,MAAM,CAACC,CAAC,EAAI,CAACC,KAAK,CAACD,CAAC,CAAC,CAAC,CAEzB,KAAM,CAAAE,UAAU,CAAGN,MAAM,CAACrB,MAAM,CAAG,CAAC,CAAG,CACrC4B,GAAG,CAAEC,IAAI,CAACD,GAAG,CAAC,GAAGP,MAAM,CAAC,CACxBS,GAAG,CAAED,IAAI,CAACC,GAAG,CAAC,GAAGT,MAAM,CACzB,CAAC,CAAGU,SAAS,CAEb7D,eAAe,CAAC,CACd8D,UAAU,CAAE/B,QAAQ,CAAC,CAAC,CAAC,CAAC+B,UAAU,CAClCC,UAAU,CAAEhC,QAAQ,CAAC,CAAC,CAAC,CAACgC,UAAU,CAClCC,KAAK,CAAEjC,QAAQ,CAAC,CAAC,CAAC,CAACiC,KAAK,CACxBjC,QAAQ,CACRC,MAAM,CACNiC,UAAU,CAAElC,QAAQ,CAAC,CAAC,CAAC,CAACkC,UAAU,CAClCC,WAAW,CAAET,UACf,CAAC,CAAC,CAEF,KAAM,CAAAU,sBAAsB,CAAGnC,MAAM,CAACoC,SAAS,CAACC,KAAK,EACnDA,KAAK,CAAC/B,IAAI,GAAKP,QAAQ,CAAC,CAAC,CAAC,CAACM,WAC7B,CAAC,CACD,GAAI8B,sBAAsB,GAAK,CAAC,CAAC,CAAE,CACjCjE,gBAAgB,CAACiE,sBAAsB,CAAC,CAC1C,CACF,CAAE,MAAOG,GAAG,CAAE,CACZC,OAAO,CAAC5D,KAAK,CAAC,yBAAyB,CAAE2D,GAAG,CAAC,CAC7C1D,QAAQ,CAAC,wBAAwB,CAAC,CACpC,CAAC,OAAS,CACRF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDe,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAAC5B,SAAS,CAAC,CAAC,CAEf,GAAIY,OAAO,CAAE,CACX,mBACEpB,IAAA,QAAKmF,SAAS,CAAC,wDAAwD,CAAAC,QAAA,cACrEpF,IAAA,QAAKmF,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,YAAU,CAAK,CAAC,CACjD,CAAC,CAEV,CAEA,GAAI9D,KAAK,EAAI,CAACZ,YAAY,CAAE,CAC1B,mBACEV,IAAA,QAAKmF,SAAS,CAAC,wDAAwD,CAAAC,QAAA,cACrElF,KAAA,QAAKiF,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BpF,IAAA,OAAImF,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAC,mBAAiB,CAAI,CAAC,cACzEpF,IAAA,MAAGmF,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAE9D,KAAK,EAAI,iDAAiD,CAAI,CAAC,cAClGtB,IAAA,CAACH,MAAM,EAACwF,OAAO,CAAEA,CAAA,GAAM5E,QAAQ,CAAC,GAAG,CAAE,CAAA2E,QAAA,CAAC,aAAW,CAAQ,CAAC,EACvD,CAAC,CACH,CAAC,CAEV,CAEA,KAAM,CAAAE,cAAc,CAAG5E,YAAY,CAACgC,QAAQ,CAACS,IAAI,CAACJ,CAAC,OAAAwC,qBAAA,OACjD,CAAAxC,CAAC,CAACC,WAAW,KAAAuC,qBAAA,CAAK7E,YAAY,CAACiC,MAAM,CAAC/B,aAAa,CAAC,UAAA2E,qBAAA,iBAAlCA,qBAAA,CAAoCtC,IAAI,GAC5D,CAAC,EAAIvC,YAAY,CAACgC,QAAQ,CAAC,CAAC,CAAC,CAE7B,KAAM,CAAA8C,cAAc,CAAG9E,YAAY,CAACgC,QAAQ,CACzCuB,MAAM,CAAClB,CAAC,OAAA0C,sBAAA,OAAI,CAAA1C,CAAC,CAACC,WAAW,KAAAyC,sBAAA,CAAK/E,YAAY,CAACiC,MAAM,CAAC/B,aAAa,CAAC,UAAA6E,sBAAA,iBAAlCA,sBAAA,CAAoCxC,IAAI,IAAC,CACvEH,GAAG,CAACC,CAAC,GAAK,CAAEE,IAAI,CAAEF,CAAC,CAAC2C,SAAS,CAAEhC,IAAI,CAAEX,CAAC,CAAC4C,SAAU,CAAC,CAAC,CAAC,CACpD1B,MAAM,CAAC,CAAC2B,IAAI,CAAEC,KAAK,CAAEC,IAAI,GACxBD,KAAK,GAAKC,IAAI,CAACf,SAAS,CAACgB,CAAC,EAAIA,CAAC,CAAC9C,IAAI,GAAK2C,IAAI,CAAC3C,IAAI,CACpD,CAAC,CAEH,KAAM,CAAA+C,aAAa,CAAG,CACpB,EAAA1F,sBAAA,CAAAI,YAAY,CAACiC,MAAM,CAAC/B,aAAa,CAAC,UAAAN,sBAAA,iBAAlCA,sBAAA,CAAoCqD,KAAK,IAAI2B,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAEzB,yBAAyB,EACtFyB,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAE1B,YAAY,CAC5B0B,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAEzB,yBAAyB,CAC1C,CAACI,MAAM,CAAC,CAACgC,GAAG,CAAEJ,KAAK,CAAEC,IAAI,GACxBG,GAAG,EAAIA,GAAG,GAAK,eAAe,EAAIH,IAAI,CAACI,OAAO,CAACD,GAAG,CAAC,GAAKJ,KAC1D,CAAC,CAED,KAAM,CAAAM,MAAM,CAAGlE,QAAQ,CAACvB,YAAY,CAAC+D,UAAU,CAAC,CAChD,KAAM,CAAA2B,UAAU,CAAGjE,YAAY,CAACzB,YAAY,CAAC+D,UAAU,CAAC,CAExD,KAAM,CAAA4B,eAAe,CAAGA,CAAA,GAAM,KAAAC,sBAAA,CAC5B,KAAM,CAAAC,WAAW,CAAG,CAClB9B,UAAU,CAAE/D,YAAY,CAAC+D,UAAU,CACnCC,UAAU,CAAEhE,YAAY,CAACgE,UAAU,CACnCC,KAAK,CAAEjE,YAAY,CAACiE,KAAK,CACzB6B,YAAY,CAAElB,cAAc,CAACkB,YAAY,CACzCC,MAAM,CAAEnB,cAAc,CAACmB,MAAM,CAC7BC,cAAc,CAAEpB,cAAc,CAACoB,cAAc,CAC7C7C,yBAAyB,CAAEmC,aAAa,CAAChF,kBAAkB,CAAC,CAC5D6D,WAAW,CAAEnE,YAAY,CAACmE,WAAW,EAAI,CAAER,GAAG,CAAE,CAAC,CAAEE,GAAG,CAAE,CAAE,CAAC,CAC3DK,UAAU,CAAElE,YAAY,CAACkE,UAAU,CACnCjC,MAAM,CAAEjC,YAAY,CAACiC,MAAM,CAACG,GAAG,CAAC6D,CAAC,GAAK,CACpC3D,WAAW,CAAE2D,CAAC,CAAC1D,IAAI,CACnBI,WAAW,CAAEsD,CAAC,CAACjD,IAAI,CACnBE,YAAY,CAAE+C,CAAC,CAAChD,KAAK,CACrBH,GAAG,CAAEmD,CAAC,CAACnD,GACT,CAAC,CAAC,CAAC,CACHoD,KAAK,CAAEpB,cAAc,CAAC1C,GAAG,CAACiD,CAAC,EAAIA,CAAC,CAACrC,IAAI,CAAC,CACtChB,QAAQ,CAAEhC,YAAY,CAACgC,QACzB,CAAC,CAEDV,SAAS,CAACuE,WAAW,CAAErF,QAAQ,EAAAoF,sBAAA,CAAE5F,YAAY,CAACiC,MAAM,CAAC/B,aAAa,CAAC,UAAA0F,sBAAA,iBAAlCA,sBAAA,CAAoC5C,IAAI,CAAE5C,YAAY,CAAC,CACxFe,cAAc,CAAC,IAAI,CAAC,CACpBV,WAAW,CAAC,CAAC,CAAC,CAEd0F,UAAU,CAAC,IAAM,CACfhF,cAAc,CAAC,KAAK,CAAC,CACvB,CAAC,CAAE,IAAI,CAAC,CACV,CAAC,CAED,KAAM,CAAAiF,oBAAoB,CAAGA,CAAA,GAAM,CACjC,KAAM,CAAAP,WAAW,CAAG,CAClB9B,UAAU,CAAE/D,YAAY,CAAC+D,UAAU,CACnCC,UAAU,CAAEhE,YAAY,CAACgE,UAAU,CACnCC,KAAK,CAAEjE,YAAY,CAACiE,KAAK,CACzB6B,YAAY,CAAElB,cAAc,CAACkB,YAAY,CACzCC,MAAM,CAAEnB,cAAc,CAACmB,MAAM,CAC7BC,cAAc,CAAEpB,cAAc,CAACoB,cAAc,CAC7C7C,yBAAyB,CAAEmC,aAAa,CAAChF,kBAAkB,CAAC,CAC5D6D,WAAW,CAAEnE,YAAY,CAACmE,WAAW,EAAI,CAAER,GAAG,CAAE,CAAC,CAAEE,GAAG,CAAE,CAAE,CAAC,CAC3DK,UAAU,CAAElE,YAAY,CAACkE,UAAU,CACnCjC,MAAM,CAAEjC,YAAY,CAACiC,MAAM,CAACG,GAAG,CAAC6D,CAAC,GAAK,CACpC3D,WAAW,CAAE2D,CAAC,CAAC1D,IAAI,CACnBI,WAAW,CAAEsD,CAAC,CAACjD,IAAI,CACnBE,YAAY,CAAE+C,CAAC,CAAChD,KAAK,CACrBH,GAAG,CAAEmD,CAAC,CAACnD,GACT,CAAC,CAAC,CAAC,CACHoD,KAAK,CAAEpB,cAAc,CAAC1C,GAAG,CAACiD,CAAC,EAAIA,CAAC,CAACrC,IAAI,CAAC,CACtChB,QAAQ,CAAEhC,YAAY,CAACgC,QACzB,CAAC,CACDR,cAAc,CAACqE,WAAW,CAAC,CAC7B,CAAC,CAED,KAAM,CAAAQ,eAAe,CAAIC,MAAyB,EAAK,CACrDrF,cAAc,CAACqF,MAAM,CAAC,CACtBvF,gBAAgB,CAAC,KAAK,CAAC,CACzB,CAAC,CAED,mBACEvB,KAAA,QAAKiF,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eAEpClF,KAAA,QAAKiF,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eAEpClF,KAAA,QAAKiF,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BpF,IAAA,QACEiH,GAAG,CAAEjB,aAAa,CAAChF,kBAAkB,CAAE,CACvCkG,GAAG,CAAExG,YAAY,CAACgE,UAAW,CAC7BS,SAAS,CAAC,4BAA4B,CACtCgC,OAAO,CAAGC,CAAC,EAAK,CACdA,CAAC,CAACC,aAAa,CAACJ,GAAG,6DAAAK,MAAA,CAA+DC,kBAAkB,CAAC7G,YAAY,CAACgE,UAAU,CAAC8C,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,CAAE,CAC7I,CAAE,CACH,CAAC,CAED9F,WAAW,eACV1B,IAAA,QACEiH,GAAG,CAAEvF,WAAW,CAACuF,GAAI,CACrBC,GAAG,CAAC,cAAc,CAClB/B,SAAS,CAAC,UAAU,CACpBsC,KAAK,CAAE,CACLC,IAAI,IAAAJ,MAAA,CAAK5F,WAAW,CAACiG,CAAC,KAAG,CACzBC,GAAG,IAAAN,MAAA,CAAK5F,WAAW,CAACmG,CAAC,KAAG,CACxBC,KAAK,IAAAR,MAAA,CAAK5F,WAAW,CAACqG,OAAO,KAAG,CAChCC,OAAO,CAAEtG,WAAW,CAACsG,OAAO,CAC5BC,SAAS,iCAAAX,MAAA,CAAkC5F,WAAW,CAACwG,QAAQ,QACjE,CAAE,CACH,CACF,cAEDlI,IAAA,QAAKmF,SAAS,CAAC,uEAAuE,CAAE,CAAC,EACtF,CAAC,cAGNjF,KAAA,WACEmF,OAAO,CAAEA,CAAA,GAAM5E,QAAQ,CAAC,CAAC,CAAC,CAAE,CAC5B0E,SAAS,CAAC,uJAAuJ,CAAAC,QAAA,eAEjKpF,IAAA,CAACZ,SAAS,EAAC+F,SAAS,CAAC,SAAS,CAAE,CAAC,OAEnC,EAAQ,CAAC,cAGTnF,IAAA,QAAKmF,SAAS,CAAC,uCAAuC,CAAAC,QAAA,cACpDpF,IAAA,QAAKmF,SAAS,CAAC,+CAA+C,CAAAC,QAAA,cAC5DlF,KAAA,QAAKiF,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eAEpDlF,KAAA,QAAKiF,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eAEtClF,KAAA,QAAKiF,SAAS,CAAC,oFAAoF,CAAAC,QAAA,eACjGpF,IAAA,SAAMmF,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAE1E,YAAY,CAACiE,KAAK,CAAO,CAAC,CAC7E,CAAAW,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAE6C,mBAAmB,IAAK,KAAK,eAC5CjI,KAAA,CAAAE,SAAA,EAAAgF,QAAA,eACEpF,IAAA,SAAMmF,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,QAAC,CAAM,CAAC,cACxCpF,IAAA,SAAMmF,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,0BAAc,CAAM,CAAC,EAC1D,CACH,EACE,CAAC,cAGNpF,IAAA,OAAImF,SAAS,CAAC,2CAA2C,CAAAC,QAAA,CACtD1E,YAAY,CAACgE,UAAU,CACtB,CAAC,cAGLxE,KAAA,QAAKiF,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCpF,IAAA,SAAMmF,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAC5C1E,YAAY,CAACmE,WAAW,EAAIlF,SAAS,CAACyI,WAAW,CAAC1H,YAAY,CAACmE,WAAW,CAACR,GAAG,CAAC,CAC5E,CAAC,CACN3D,YAAY,CAACmE,WAAW,EAAInE,YAAY,CAACmE,WAAW,CAACR,GAAG,GAAK3D,YAAY,CAACmE,WAAW,CAACN,GAAG,eACxFrE,KAAA,SAAMiF,SAAS,CAAC,wBAAwB,CAAAC,QAAA,EAAC,IACrC,CAACzF,SAAS,CAACyI,WAAW,CAAC1H,YAAY,CAACmE,WAAW,CAACN,GAAG,CAAC,EAClD,CACP,EACE,CAAC,CAGLyB,aAAa,CAACvD,MAAM,CAAG,CAAC,eACvBvC,KAAA,QAAKiF,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBpF,IAAA,OAAImF,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAC,SAAO,CAAI,CAAC,cACzDpF,IAAA,QAAKmF,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CACnDY,aAAa,CAAClD,GAAG,CAAC,CAACa,KAAK,CAAEkC,KAAK,gBAC9B7F,IAAA,WAEEqF,OAAO,CAAEA,CAAA,GAAMpE,qBAAqB,CAAC4E,KAAK,CAAE,CAC5CV,SAAS,4DAAAmC,MAAA,CAA6DtG,kBAAkB,GAAK6E,KAAK,CAC9F,uDAAuD,CACvD,kBAAkB,CACjB,CAAAT,QAAA,cAELpF,IAAA,QACEiH,GAAG,CAAEtD,KAAM,CACXuD,GAAG,IAAAI,MAAA,CAAK5G,YAAY,CAACgE,UAAU,MAAA4C,MAAA,CAAIzB,KAAK,CAAG,CAAC,CAAG,CAC/CV,SAAS,CAAC,4BAA4B,CACtCgC,OAAO,CAAGC,CAAC,EAAK,CACdA,CAAC,CAACC,aAAa,CAACJ,GAAG,2DAAAK,MAAA,CAA6DzB,KAAK,CAAG,CAAC,CAAE,CAC7F,CAAE,CACH,CAAC,EAdGA,KAeC,CACT,CAAC,CACC,CAAC,EACH,CACN,cAGD3F,KAAA,QAAKiF,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBpF,IAAA,QAAKmF,SAAS,CAAC,wDAAwD,CAAAC,QAAA,CACpE,CAAC,UAAU,CAAE,SAAS,CAAE,MAAM,CAAC,CAACtC,GAAG,CAAEuF,GAAG,eACvCrI,IAAA,WAEEqF,OAAO,CAAEA,CAAA,GAAMtD,YAAY,CAACsG,GAAU,CAAE,CACxClD,SAAS,mEAAAmC,MAAA,CAAoExF,SAAS,GAAKuG,GAAG,CAC1F,wBAAwB,CACxB,gCAAgC,CAC/B,CAAAjD,QAAA,CAEJiD,GAAG,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAGF,GAAG,CAACb,KAAK,CAAC,CAAC,CAAC,EAPtCa,GAQC,CACT,CAAC,CACC,CAAC,cAENnI,KAAA,QAAKiF,SAAS,CAAC,4CAA4C,CAAAC,QAAA,EACxDtD,SAAS,GAAK,UAAU,eACvB5B,KAAA,QAAKiF,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBpF,IAAA,MAAGmF,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CACjD,CAAAE,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAEkD,kBAAkB,IAAIlD,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAEmD,aAAa,EACnE,CAAC,cACJvI,KAAA,OAAIiF,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACrClF,KAAA,OAAIiF,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACpCpF,IAAA,SAAMmF,SAAS,CAAC,6CAA6C,CAACsC,KAAK,CAAE,CAAEiB,UAAU,CAAE,SAAU,CAAE,CAAE,CAAC,qCAEpG,EAAI,CAAC,CACJ,CAAApD,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAEqD,MAAM,gBACrBzI,KAAA,OAAIiF,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACpCpF,IAAA,SAAMmF,SAAS,CAAC,6CAA6C,CAACsC,KAAK,CAAE,CAAEiB,UAAU,CAAE,SAAU,CAAE,CAAE,CAAC,CACjGpD,cAAc,CAACqD,MAAM,EACpB,CACL,CACA,CAAArD,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAEsD,cAAc,gBAC7B1I,KAAA,OAAIiF,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACpCpF,IAAA,SAAMmF,SAAS,CAAC,6CAA6C,CAACsC,KAAK,CAAE,CAAEiB,UAAU,CAAE,SAAU,CAAE,CAAE,CAAC,eACtF,CAACpD,cAAc,CAACsD,cAAc,EACxC,CACL,EACC,CAAC,EACF,CACN,CACA9G,SAAS,GAAK,SAAS,eACtB5B,KAAA,QAAKiF,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtClF,KAAA,QAAKiF,SAAS,CAAC,oDAAoD,CAAAC,QAAA,eACjEpF,IAAA,SAAAoF,QAAA,CAAM,OAAK,CAAM,CAAC,cAClBpF,IAAA,SAAMmF,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAE1E,YAAY,CAACiE,KAAK,CAAO,CAAC,EACnE,CAAC,cACNzE,KAAA,QAAKiF,SAAS,CAAC,oDAAoD,CAAAC,QAAA,eACjEpF,IAAA,SAAAoF,QAAA,CAAM,MAAI,CAAM,CAAC,cACjBpF,IAAA,SAAMmF,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAEE,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAEkB,YAAY,CAAO,CAAC,EAC7E,CAAC,cACNtG,KAAA,QAAKiF,SAAS,CAAC,oDAAoD,CAAAC,QAAA,eACjEpF,IAAA,SAAAoF,QAAA,CAAM,QAAM,CAAM,CAAC,cACnBpF,IAAA,SAAMmF,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAEE,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAEmB,MAAM,CAAO,CAAC,EACvE,CAAC,CACL,CAAAnB,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAEuD,SAAS,gBACxB3I,KAAA,QAAKiF,SAAS,CAAC,oDAAoD,CAAAC,QAAA,eACjEpF,IAAA,SAAAoF,QAAA,CAAM,WAAS,CAAM,CAAC,cACtBpF,IAAA,SAAMmF,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAEE,cAAc,CAACuD,SAAS,CAAO,CAAC,EACzE,CACN,EACE,CACN,CACA/G,SAAS,GAAK,MAAM,eACnB5B,KAAA,QAAKiF,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCpF,IAAA,MAAAoF,QAAA,CAAG,0CAAwC,CAAG,CAAC,cAC/ClF,KAAA,OAAIiF,SAAS,CAAC,WAAW,CAAAC,QAAA,eACvBlF,KAAA,OAAIiF,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACpCpF,IAAA,SAAMmF,SAAS,CAAC,6CAA6C,CAACsC,KAAK,CAAE,CAAEiB,UAAU,CAAE,SAAU,CAAE,CAAE,CAAC,iCAEpG,EAAI,CAAC,cACLxI,KAAA,OAAIiF,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACpCpF,IAAA,SAAMmF,SAAS,CAAC,6CAA6C,CAACsC,KAAK,CAAE,CAAEiB,UAAU,CAAE,SAAU,CAAE,CAAE,CAAC,+BAEpG,EAAI,CAAC,cACLxI,KAAA,OAAIiF,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACpCpF,IAAA,SAAMmF,SAAS,CAAC,6CAA6C,CAACsC,KAAK,CAAE,CAAEiB,UAAU,CAAE,SAAU,CAAE,CAAE,CAAC,6BAEpG,EAAI,CAAC,EACH,CAAC,EACF,CACN,EACE,CAAC,EACH,CAAC,EACH,CAAC,cAGN1I,IAAA,QAAKmF,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BlF,KAAA,QAAKiF,SAAS,CAAC,+EAA+E,CAAAC,QAAA,eAC5FpF,IAAA,OAAImF,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAC,gBAE7C,CAAI,CAAC,cAGLlF,KAAA,QAAKiF,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlF,KAAA,UAAOiF,SAAS,CAAC,gCAAgC,CAAAC,QAAA,EAAC,SACzC,cAAApF,IAAA,SAAMmF,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAA7E,sBAAA,CAAEG,YAAY,CAACiC,MAAM,CAAC/B,aAAa,CAAC,UAAAL,sBAAA,iBAAlCA,sBAAA,CAAoCmD,IAAI,CAAO,CAAC,EACnF,CAAC,cACR1D,IAAA,QAAKmF,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAClC1E,YAAY,CAACiC,MAAM,CAACsB,MAAM,CAAC0C,CAAC,EAAIA,CAAC,CAACnD,GAAG,CAAC,CAACV,GAAG,CAAC,CAACkC,KAAK,CAAEa,KAAK,gBACvD7F,IAAA,WAEEmF,SAAS,mDAAAmC,MAAA,CAAoD1G,aAAa,GAAKiF,KAAK,CAChF,6EAA6E,CAC7E,uCAAuC,CACtC,CACL4B,KAAK,CAAE,CAAEqB,eAAe,CAAE9D,KAAK,CAACxB,GAAI,CAAE,CACtC6B,OAAO,CAAEA,CAAA,GAAM,CACb,KAAM,CAAA0D,WAAW,CAAGrI,YAAY,CAACiC,MAAM,CAACoC,SAAS,CAAC4B,CAAC,EAAIA,CAAC,CAAC1D,IAAI,GAAK+B,KAAK,CAAC/B,IAAI,CAAC,CAC7EpC,gBAAgB,CAACkI,WAAW,CAAC,CAC7BhI,eAAe,CAAC,EAAE,CAAC,CACnBE,qBAAqB,CAAC,CAAC,CAAC,CAC1B,CAAE,CACF+H,KAAK,CAAEhE,KAAK,CAACtB,IAAK,EAZbsB,KAAK,CAAC/B,IAaZ,CACF,CAAC,CACC,CAAC,EACH,CAAC,CAGLuC,cAAc,CAAC/C,MAAM,CAAG,CAAC,eACxBvC,KAAA,QAAKiF,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBpF,IAAA,UAAOmF,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,MAAI,CAAO,CAAC,cAC9DpF,IAAA,QAAKmF,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CACpCI,cAAc,CAAC1C,GAAG,CAAC8C,IAAI,eACtB5F,IAAA,WAEEmF,SAAS,mEAAAmC,MAAA,CAAoExG,YAAY,GAAK8E,IAAI,CAAC3C,IAAI,CACnG,qCAAqC,CACrC,iDAAiD,CAChD,CACLoC,OAAO,CAAEA,CAAA,GAAMtE,eAAe,CAAC6E,IAAI,CAAC3C,IAAI,CAAE,CAAAmC,QAAA,CAEzCQ,IAAI,CAAClC,IAAI,EAPLkC,IAAI,CAAC3C,IAQJ,CACT,CAAC,CACC,CAAC,EACH,CACN,cAGD/C,KAAA,QAAKiF,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBpF,IAAA,UAAOmF,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,UAAQ,CAAO,CAAC,cAClElF,KAAA,QAAKiF,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCpF,IAAA,WACEqF,OAAO,CAAEA,CAAA,GAAMlE,WAAW,CAACmD,IAAI,CAACC,GAAG,CAAC,CAAC,CAAErD,QAAQ,CAAG,CAAC,CAAC,CAAE,CACtDiE,SAAS,CAAC,4FAA4F,CAAAC,QAAA,CACvG,GAED,CAAQ,CAAC,cACTpF,IAAA,SAAMmF,SAAS,CAAC,6CAA6C,CAAAC,QAAA,CAAElE,QAAQ,CAAO,CAAC,cAC/ElB,IAAA,WACEqF,OAAO,CAAEA,CAAA,GAAMlE,WAAW,CAACD,QAAQ,CAAG,CAAC,CAAE,CACzCiE,SAAS,CAAC,4FAA4F,CAAAC,QAAA,CACvG,GAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,cAENpF,IAAA,QAAKmF,SAAS,CAAC,+BAA+B,CAAM,CAAC,cAGrDjF,KAAA,QAAKiF,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBpF,IAAA,CAACH,MAAM,EACLwF,OAAO,CAAEgB,eAAgB,CACzB4C,QAAQ,CAAEzD,cAAc,CAAC/C,MAAM,CAAG,CAAC,EAAI,CAAC3B,YAAa,CACrDqE,SAAS,kEAAAmC,MAAA,CAAmE1F,WAAW,CACnF,4CAA4C,CAC5CuE,MAAM,CACJ,4CAA4C,CAC5C,YAAY,CACb,CACLsB,KAAK,CAAE,CAAEiB,UAAU,CAAE9G,WAAW,EAAIuE,MAAM,CAAG3B,SAAS,CAAG,SAAU,CAAE,CAAAY,QAAA,CAEpExD,WAAW,cACV1B,KAAA,CAAAE,SAAA,EAAAgF,QAAA,eACEpF,IAAA,CAACT,KAAK,EAAC4F,SAAS,CAAC,cAAc,CAAE,CAAC,iBAEpC,EAAE,CAAC,CACDgB,MAAM,cACRjG,KAAA,CAAAE,SAAA,EAAAgF,QAAA,eACEpF,IAAA,CAACT,KAAK,EAAC4F,SAAS,CAAC,cAAc,CAAE,CAAC,UAEpC,EAAE,CAAC,cAEHjF,KAAA,CAAAE,SAAA,EAAAgF,QAAA,eACEpF,IAAA,CAACV,YAAY,EAAC6F,SAAS,CAAC,cAAc,CAAE,CAAC,cAE3C,EAAE,CACH,CACK,CAAC,cAETjF,KAAA,QAAKiF,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCpF,IAAA,WACEqF,OAAO,CAAEA,CAAA,GAAM5D,gBAAgB,CAAC,IAAI,CAAE,CACtC0D,SAAS,CAAC,kIAAkI,CAAAC,QAAA,CAC7I,eAED,CAAQ,CAAC,cACTlF,KAAA,WACEmF,OAAO,CAAEyB,oBAAqB,CAC9B3B,SAAS,CAAC,mKAAmK,CAAAC,QAAA,eAE7KpF,IAAA,CAACX,KAAK,EAAC8F,SAAS,iBAAAmC,MAAA,CAAkBlB,UAAU,CAAG,cAAc,CAAG,EAAE,CAAG,CAAE,CAAC,CACvEA,UAAU,CAAG,OAAO,CAAG,MAAM,EACxB,CAAC,EACN,CAAC,CAEL1E,WAAW,eACV1B,IAAA,WACEqF,OAAO,CAAEA,CAAA,GAAM1D,cAAc,CAAC,IAAI,CAAE,CACpCwD,SAAS,CAAC,wIAAwI,CAAAC,QAAA,CACnJ,aAED,CAAQ,CACT,EACE,CAAC,cAENpF,IAAA,QAAKmF,SAAS,CAAC,+BAA+B,CAAM,CAAC,cAGrDjF,KAAA,QAAKiF,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlF,KAAA,WAAQiF,SAAS,CAAC,8FAA8F,CAAAC,QAAA,eAC9GpF,IAAA,SAAMmF,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,sBAAoB,CAAM,CAAC,cACjEpF,IAAA,CAACR,YAAY,EAAC2F,SAAS,CAAC,SAAS,CAAE,CAAC,EAC9B,CAAC,cACTnF,IAAA,QAAKmF,SAAS,CAAC,0BAA0B,CAAM,CAAC,cAChDjF,KAAA,WAAQiF,SAAS,CAAC,8FAA8F,CAAAC,QAAA,eAC9GpF,IAAA,SAAMmF,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,eAAa,CAAM,CAAC,cAC1DpF,IAAA,CAACR,YAAY,EAAC2F,SAAS,CAAC,SAAS,CAAE,CAAC,EAC9B,CAAC,cACTnF,IAAA,QAAKmF,SAAS,CAAC,0BAA0B,CAAM,CAAC,cAChDjF,KAAA,WAAQiF,SAAS,CAAC,8FAA8F,CAAAC,QAAA,eAC9GpF,IAAA,SAAMmF,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,YAAU,CAAM,CAAC,cACvDpF,IAAA,CAACR,YAAY,EAAC2F,SAAS,CAAC,SAAS,CAAE,CAAC,EAC9B,CAAC,EACN,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,EACH,CAAC,CAGL3D,aAAa,eACZxB,IAAA,CAACF,mBAAmB,EAClBoJ,MAAM,CAAE1H,aAAc,CACtB2H,OAAO,CAAEA,CAAA,GAAM1H,gBAAgB,CAAC,KAAK,CAAE,CACvC2H,OAAO,CAAEA,CAACC,GAAG,CAAEC,kBAAkB,GAAK,CACpC,GACE,MAAO,CAAAA,kBAAkB,GAAK,QAAQ,EACtCA,kBAAkB,EAAI,CAAC,EACvBA,kBAAkB,CAAG5I,YAAY,CAACiC,MAAM,CAACF,MAAM,CAC/C,CACA5B,gBAAgB,CAACyI,kBAAkB,CAAC,CACpCrI,qBAAqB,CAAC,CAAC,CAAC,CAC1B,CACA8F,eAAe,CAACsC,GAAG,CAAC,CACtB,CAAE,CACFE,YAAY,CAAEvD,aAAa,CAAChF,kBAAkB,CAAE,CAChDwI,aAAa,CAAE9I,YAAY,CAACiC,MAAO,CACnC8G,iBAAiB,CAAE7I,aAAc,CACjC8I,aAAa,CAAEhI,WAAW,SAAXA,WAAW,UAAXA,WAAW,CAAI8C,SAAU,CACzC,CACF,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAnE,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}