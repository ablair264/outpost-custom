{"ast":null,"code":"var _jsxFileName = \"/home/alastair/Desktop/outpost-custom/outpost-custom/src/contexts/WishlistContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WishlistContext = /*#__PURE__*/createContext(undefined);\nexport const WishlistProvider = ({\n  children\n}) => {\n  _s();\n  const [wishlist, setWishlist] = useState(() => {\n    const savedWishlist = localStorage.getItem('outpost-wishlist');\n    return savedWishlist ? JSON.parse(savedWishlist) : [];\n  });\n\n  // Save wishlist to localStorage whenever it changes\n  useEffect(() => {\n    localStorage.setItem('outpost-wishlist', JSON.stringify(wishlist));\n  }, [wishlist]);\n  const addToWishlist = product => {\n    setWishlist(prev => {\n      // Check if already in wishlist\n      if (prev.some(item => item.styleCode === product.style_code)) {\n        return prev;\n      }\n      return [...prev, {\n        id: product.style_code,\n        styleCode: product.style_code,\n        name: product.style_name,\n        brand: product.brand,\n        price: product.price_range.min,\n        image: product.primary_product_image_url,\n        productType: product.product_type\n      }];\n    });\n  };\n  const removeFromWishlist = styleCode => {\n    setWishlist(prev => prev.filter(item => item.styleCode !== styleCode));\n  };\n  const toggleWishlist = product => {\n    if (isInWishlist(product.style_code)) {\n      removeFromWishlist(product.style_code);\n    } else {\n      addToWishlist(product);\n    }\n  };\n  const isInWishlist = styleCode => {\n    return wishlist.some(item => item.styleCode === styleCode);\n  };\n  const clearWishlist = () => {\n    setWishlist([]);\n  };\n  return /*#__PURE__*/_jsxDEV(WishlistContext.Provider, {\n    value: {\n      wishlist,\n      addToWishlist,\n      removeFromWishlist,\n      toggleWishlist,\n      isInWishlist,\n      clearWishlist\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n_s(WishlistProvider, \"vB4c0lIfAMe7pjSLqkAFMrpZAI0=\");\n_c = WishlistProvider;\nexport const useWishlist = () => {\n  _s2();\n  const context = useContext(WishlistContext);\n  if (!context) {\n    throw new Error('useWishlist must be used within a WishlistProvider');\n  }\n  return context;\n};\n_s2(useWishlist, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"WishlistProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsxDEV","_jsxDEV","WishlistContext","undefined","WishlistProvider","children","_s","wishlist","setWishlist","savedWishlist","localStorage","getItem","JSON","parse","setItem","stringify","addToWishlist","product","prev","some","item","styleCode","style_code","id","name","style_name","brand","price","price_range","min","image","primary_product_image_url","productType","product_type","removeFromWishlist","filter","toggleWishlist","isInWishlist","clearWishlist","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useWishlist","_s2","context","Error","$RefreshReg$"],"sources":["/home/alastair/Desktop/outpost-custom/outpost-custom/src/contexts/WishlistContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\nimport { GroupedProduct } from '../lib/supabase';\n\ninterface WishlistItem {\n  id: string;\n  styleCode: string;\n  name: string;\n  brand: string;\n  price: number;\n  image: string;\n  productType: string;\n}\n\ninterface WishlistContextType {\n  wishlist: WishlistItem[];\n  addToWishlist: (product: GroupedProduct) => void;\n  removeFromWishlist: (styleCode: string) => void;\n  toggleWishlist: (product: GroupedProduct) => void;\n  isInWishlist: (styleCode: string) => boolean;\n  clearWishlist: () => void;\n}\n\nconst WishlistContext = createContext<WishlistContextType | undefined>(undefined);\n\nexport const WishlistProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [wishlist, setWishlist] = useState<WishlistItem[]>(() => {\n    const savedWishlist = localStorage.getItem('outpost-wishlist');\n    return savedWishlist ? JSON.parse(savedWishlist) : [];\n  });\n\n  // Save wishlist to localStorage whenever it changes\n  useEffect(() => {\n    localStorage.setItem('outpost-wishlist', JSON.stringify(wishlist));\n  }, [wishlist]);\n\n  const addToWishlist = (product: GroupedProduct) => {\n    setWishlist(prev => {\n      // Check if already in wishlist\n      if (prev.some(item => item.styleCode === product.style_code)) {\n        return prev;\n      }\n\n      return [\n        ...prev,\n        {\n          id: product.style_code,\n          styleCode: product.style_code,\n          name: product.style_name,\n          brand: product.brand,\n          price: product.price_range.min,\n          image: product.primary_product_image_url,\n          productType: product.product_type,\n        },\n      ];\n    });\n  };\n\n  const removeFromWishlist = (styleCode: string) => {\n    setWishlist(prev => prev.filter(item => item.styleCode !== styleCode));\n  };\n\n  const toggleWishlist = (product: GroupedProduct) => {\n    if (isInWishlist(product.style_code)) {\n      removeFromWishlist(product.style_code);\n    } else {\n      addToWishlist(product);\n    }\n  };\n\n  const isInWishlist = (styleCode: string) => {\n    return wishlist.some(item => item.styleCode === styleCode);\n  };\n\n  const clearWishlist = () => {\n    setWishlist([]);\n  };\n\n  return (\n    <WishlistContext.Provider\n      value={{\n        wishlist,\n        addToWishlist,\n        removeFromWishlist,\n        toggleWishlist,\n        isInWishlist,\n        clearWishlist,\n      }}\n    >\n      {children}\n    </WishlistContext.Provider>\n  );\n};\n\nexport const useWishlist = () => {\n  const context = useContext(WishlistContext);\n  if (!context) {\n    throw new Error('useWishlist must be used within a WishlistProvider');\n  }\n  return context;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}