{"ast":null,"code":"import{useEffect,useRef}from'react';import{gsap}from'gsap';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SlimGridMotion=_ref=>{let{items=[],gradientColor='black'}=_ref;const gridRef=useRef(null);const rowRefs=useRef([]);const mouseXRef=useRef(window.innerWidth/2);const totalItems=21;// 3 rows × 7 columns (reduced from 28)\nconst defaultItems=Array.from({length:totalItems},(_,index)=>\"Item \".concat(index+1));const combinedItems=items.length>0?items.slice(0,totalItems):defaultItems;useEffect(()=>{gsap.ticker.lagSmoothing(0);const handleMouseMove=e=>{mouseXRef.current=e.clientX;};const updateMotion=()=>{const maxMoveAmount=200;// Reduced from 300\nconst baseDuration=0.8;const inertiaFactors=[0.6,0.4,0.3];rowRefs.current.forEach((row,index)=>{if(row){const direction=index%2===0?1:-1;const moveAmount=(mouseXRef.current/window.innerWidth*maxMoveAmount-maxMoveAmount/2)*direction;gsap.to(row,{x:moveAmount,duration:baseDuration+inertiaFactors[index%inertiaFactors.length],ease:'power3.out',overwrite:'auto'});}});};const removeAnimationLoop=gsap.ticker.add(updateMotion);window.addEventListener('mousemove',handleMouseMove);return()=>{window.removeEventListener('mousemove',handleMouseMove);removeAnimationLoop();};},[]);return/*#__PURE__*/_jsx(\"div\",{ref:gridRef,className:\"h-full w-full overflow-hidden\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"w-full h-full overflow-hidden relative flex items-center justify-center\",style:{background:\"radial-gradient(circle, \".concat(gradientColor,\" 0%, transparent 100%)\")},children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 pointer-events-none z-[4] bg-[length:250px]\"}),/*#__PURE__*/_jsx(\"div\",{className:\"gap-3 flex-none relative w-[150vw] h-full grid grid-rows-3 grid-cols-1 rotate-[-12deg] origin-center z-[2]\",children:[...Array(3)].map((_,rowIndex)=>/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-3 grid-cols-7\",style:{willChange:'transform, filter'},ref:el=>{rowRefs.current[rowIndex]=el;},children:[...Array(7)].map((_,itemIndex)=>{const content=combinedItems[rowIndex*7+itemIndex];return/*#__PURE__*/_jsx(\"div\",{className:\"relative\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative w-full h-full overflow-hidden rounded-lg bg-[#111] flex items-center justify-center text-white text-base\",children:typeof content==='string'&&(content.startsWith('http')||content.startsWith('/')||content.endsWith('.png')||content.endsWith('.jpg')||content.endsWith('.jpeg')||content.endsWith('.webp'))?/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full bg-cover bg-center absolute top-0 left-0\",style:{backgroundImage:\"url(\".concat(content,\")\")}}):/*#__PURE__*/_jsx(\"div\",{className:\"p-3 text-center z-[1]\",children:content})})},itemIndex);})},rowIndex))}),/*#__PURE__*/_jsx(\"div\",{className:\"relative w-full h-full top-0 left-0 pointer-events-none\"})]})});};export default SlimGridMotion;","map":{"version":3,"names":["useEffect","useRef","gsap","jsx","_jsx","jsxs","_jsxs","SlimGridMotion","_ref","items","gradientColor","gridRef","rowRefs","mouseXRef","window","innerWidth","totalItems","defaultItems","Array","from","length","_","index","concat","combinedItems","slice","ticker","lagSmoothing","handleMouseMove","e","current","clientX","updateMotion","maxMoveAmount","baseDuration","inertiaFactors","forEach","row","direction","moveAmount","to","x","duration","ease","overwrite","removeAnimationLoop","add","addEventListener","removeEventListener","ref","className","children","style","background","map","rowIndex","willChange","el","itemIndex","content","startsWith","endsWith","backgroundImage"],"sources":["/home/alastair/Desktop/outpost-custom/outpost-custom/src/components/SlimGridMotion.tsx"],"sourcesContent":["import { useEffect, useRef } from 'react';\nimport { gsap } from 'gsap';\n\ninterface SlimGridMotionProps {\n  items?: string[];\n  gradientColor?: string;\n}\n\nconst SlimGridMotion: React.FC<SlimGridMotionProps> = ({ items = [], gradientColor = 'black' }) => {\n  const gridRef = useRef<HTMLDivElement>(null);\n  const rowRefs = useRef<(HTMLDivElement | null)[]>([]);\n  const mouseXRef = useRef(window.innerWidth / 2);\n\n  const totalItems = 21; // 3 rows × 7 columns (reduced from 28)\n  const defaultItems = Array.from({ length: totalItems }, (_, index) => `Item ${index + 1}`);\n  const combinedItems = items.length > 0 ? items.slice(0, totalItems) : defaultItems;\n\n  useEffect(() => {\n    gsap.ticker.lagSmoothing(0);\n\n    const handleMouseMove = (e: MouseEvent) => {\n      mouseXRef.current = e.clientX;\n    };\n\n    const updateMotion = () => {\n      const maxMoveAmount = 200; // Reduced from 300\n      const baseDuration = 0.8;\n      const inertiaFactors = [0.6, 0.4, 0.3];\n\n      rowRefs.current.forEach((row, index) => {\n        if (row) {\n          const direction = index % 2 === 0 ? 1 : -1;\n          const moveAmount = ((mouseXRef.current / window.innerWidth) * maxMoveAmount - maxMoveAmount / 2) * direction;\n\n          gsap.to(row, {\n            x: moveAmount,\n            duration: baseDuration + inertiaFactors[index % inertiaFactors.length],\n            ease: 'power3.out',\n            overwrite: 'auto'\n          });\n        }\n      });\n    };\n\n    const removeAnimationLoop = gsap.ticker.add(updateMotion);\n    window.addEventListener('mousemove', handleMouseMove);\n\n    return () => {\n      window.removeEventListener('mousemove', handleMouseMove);\n      removeAnimationLoop();\n    };\n  }, []);\n\n  return (\n    <div ref={gridRef} className=\"h-full w-full overflow-hidden\">\n      <section\n        className=\"w-full h-full overflow-hidden relative flex items-center justify-center\"\n        style={{\n          background: `radial-gradient(circle, ${gradientColor} 0%, transparent 100%)`\n        }}>\n        <div className=\"absolute inset-0 pointer-events-none z-[4] bg-[length:250px]\"></div>\n        <div\n          className=\"gap-3 flex-none relative w-[150vw] h-full grid grid-rows-3 grid-cols-1 rotate-[-12deg] origin-center z-[2]\">\n          {[...Array(3)].map((_, rowIndex) => (\n            <div\n              key={rowIndex}\n              className=\"grid gap-3 grid-cols-7\"\n              style={{ willChange: 'transform, filter' }}\n              ref={el => { rowRefs.current[rowIndex] = el; }}>\n              {[...Array(7)].map((_, itemIndex) => {\n                const content = combinedItems[rowIndex * 7 + itemIndex];\n                return (\n                  <div key={itemIndex} className=\"relative\">\n                    <div\n                      className=\"relative w-full h-full overflow-hidden rounded-lg bg-[#111] flex items-center justify-center text-white text-base\">\n                      {typeof content === 'string' && (content.startsWith('http') || content.startsWith('/') || content.endsWith('.png') || content.endsWith('.jpg') || content.endsWith('.jpeg') || content.endsWith('.webp')) ? (\n                        <div\n                          className=\"w-full h-full bg-cover bg-center absolute top-0 left-0\"\n                          style={{ backgroundImage: `url(${content})` }}></div>\n                      ) : (\n                        <div className=\"p-3 text-center z-[1]\">{content}</div>\n                      )}\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          ))}\n        </div>\n        <div className=\"relative w-full h-full top-0 left-0 pointer-events-none\"></div>\n      </section>\n    </div>\n  );\n};\n\nexport default SlimGridMotion;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}